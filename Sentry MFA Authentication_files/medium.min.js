+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap");var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}return false}$.fn.emulateTransitionEnd=function(duration){var called=false;var $el=this;$(this).one("bsTransitionEnd",function(){called=true});var callback=function(){if(!called)$($el).trigger($.support.transition.end)};setTimeout(callback,duration);return this};$(function(){$.support.transition=transitionEnd();if(!$.support.transition)return;$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function($){"use strict";var dismiss='[data-dismiss="alert"]';var Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.2.0";Alert.prototype.close=function(e){var $this=$(this);var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=$(selector);if(e)e.preventDefault();if(!$parent.length){$parent=$this.hasClass("alert")?$this:$this.parent()}$parent.trigger(e=$.Event("close.bs.alert"));if(e.isDefaultPrevented())return;$parent.removeClass("in");function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(150):removeElement()};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.alert");if(!data)$this.data("bs.alert",data=new Alert(this));if(typeof option=="string")data[option].call($this)})}var old=$.fn.alert;$.fn.alert=Plugin;$.fn.alert.Constructor=Alert;$.fn.alert.noConflict=function(){$.fn.alert=old;return this};$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery);+function($){"use strict";var Button=function(element,options){this.$element=$(element);this.options=$.extend({},Button.DEFAULTS,options);this.isLoading=false};Button.VERSION="3.2.0";Button.DEFAULTS={loadingText:"loading..."};Button.prototype.setState=function(state){var d="disabled";var $el=this.$element;var val=$el.is("input")?"val":"html";var data=$el.data();state=state+"Text";if(data.resetText==null)$el.data("resetText",$el[val]());$el[val](data[state]==null?this.options[state]:data[state]);setTimeout($.proxy(function(){if(state=="loadingText"){this.isLoading=true;$el.addClass(d).attr(d,d)}else if(this.isLoading){this.isLoading=false;$el.removeClass(d).removeAttr(d)}},this),0)};Button.prototype.toggle=function(){var changed=true;var $parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");if($input.prop("type")=="radio"){if($input.prop("checked")&&this.$element.hasClass("active"))changed=false;else $parent.find(".active").removeClass("active")}if(changed)$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}if(changed)this.$element.toggleClass("active")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.button");var options=typeof option=="object"&&option;if(!data)$this.data("bs.button",data=new Button(this,options));if(option=="toggle")data.toggle();else if(option)data.setState(option)})}var old=$.fn.button;$.fn.button=Plugin;$.fn.button.Constructor=Button;$.fn.button.noConflict=function(){$.fn.button=old;return this};$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);if(!$btn.hasClass("btn"))$btn=$btn.closest(".btn");Plugin.call($btn,"toggle");e.preventDefault()})}(jQuery);+function($){"use strict";var Carousel=function(element,options){this.$element=$(element).on("keydown.bs.carousel",$.proxy(this.keydown,this));this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.2.0";Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:true};Carousel.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()};Carousel.prototype.cycle=function(e){e||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this};Carousel.prototype.getItemIndex=function(item){this.$items=item.parent().children(".item");return this.$items.index(item||this.$active)};Carousel.prototype.to=function(pos){var that=this;var activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(pos>this.$items.length-1||pos<0)return;if(this.sliding)return this.$element.one("slid.bs.carousel",function(){that.to(pos)});if(activeIndex==pos)return this.pause().cycle();return this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))};Carousel.prototype.pause=function(e){e||(this.paused=true);if(this.$element.find(".next, .prev").length&&$.support.transition){this.$element.trigger($.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};Carousel.prototype.next=function(){if(this.sliding)return;return this.slide("next")};Carousel.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")};Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active");var $next=next||$active[type]();var isCycling=this.interval;var direction=type=="next"?"left":"right";var fallback=type=="next"?"first":"last";var that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}if($next.hasClass("active"))return this.sliding=false;var relatedTarget=$next[0];var slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});this.$element.trigger(slideEvent);if(slideEvent.isDefaultPrevented())return;this.sliding=true;isCycling&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if($.support.transition&&this.$element.hasClass("slide")){$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd($active.css("transition-duration").slice(0,-1)*1e3)}else{$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger(slidEvent)}isCycling&&this.cycle();return this};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.carousel");var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=="object"&&option);var action=typeof option=="string"?option:options.slide;if(!data)$this.data("bs.carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();else if(options.interval)data.pause().cycle()})}var old=$.fn.carousel;$.fn.carousel=Plugin;$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=function(){$.fn.carousel=old;return this};$(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var href;var $this=$(this);var $target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if(!$target.hasClass("carousel"))return;var options=$.extend({},$target.data(),$this.data());var slideIndex=$this.attr("data-slide-to");if(slideIndex)options.interval=false;Plugin.call($target,options);if(slideIndex){$target.data("bs.carousel").to(slideIndex)}e.preventDefault()});$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery);+function($){"use strict";var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},Collapse.DEFAULTS,options);this.transitioning=null;if(this.options.parent)this.$parent=$(this.options.parent);if(this.options.toggle)this.toggle()};Collapse.VERSION="3.2.0";Collapse.DEFAULTS={toggle:true};Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"};Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var startEvent=$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;Plugin.call(actives,"hide");hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0);this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])};Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var complete=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(350)};Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.collapse");var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data&&options.toggle&&option=="show")option=!option;if(!data)$this.data("bs.collapse",data=new Collapse(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.collapse;$.fn.collapse=Plugin;$.fn.collapse.Constructor=Collapse;$.fn.collapse.noConflict=function(){$.fn.collapse=old;return this};$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var href;var $this=$(this);var target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");var $target=$(target);var data=$target.data("bs.collapse");var option=data?"toggle":$this.data();var parent=$this.attr("data-parent");var $parent=parent&&$(parent);if(!data||!data.transitioning){if($parent)$parent.find('[data-toggle="collapse"][data-parent="'+parent+'"]').not($this).addClass("collapsed");$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed")}Plugin.call($target,option)})}(jQuery);+function($){"use strict";var backdrop=".dropdown-backdrop";var toggle='[data-toggle="dropdown"]';var Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.2.0";Dropdown.prototype.toggle=function(e){var $this=$(this);if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");clearMenus();if(!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length){$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus)}var relatedTarget={relatedTarget:this};$parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$this.trigger("focus");$parent.toggleClass("open").trigger("shown.bs.dropdown",relatedTarget)}return false};Dropdown.prototype.keydown=function(e){if(!/(38|40|27)/.test(e.keyCode))return;var $this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");if(!isActive||isActive&&e.keyCode==27){if(e.which==27)$parent.find(toggle).trigger("focus");return $this.trigger("click")}var desc=" li:not(.divider):visible a";var $items=$parent.find('[role="menu"]'+desc+', [role="listbox"]'+desc);if(!$items.length)return;var index=$items.index($items.filter(":focus"));if(e.keyCode==38&&index>0)index--;if(e.keyCode==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).trigger("focus")};function clearMenus(e){if(e&&e.which===3)return;$(backdrop).remove();$(toggle).each(function(){var $parent=getParent($(this));var relatedTarget={relatedTarget:this};if(!$parent.hasClass("open"))return;$parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget)})}function getParent($this){var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.dropdown");if(!data)$this.data("bs.dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})}var old=$.fn.dropdown;$.fn.dropdown=Plugin;$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle+', [role="menu"], [role="listbox"]',Dropdown.prototype.keydown)}(jQuery);+function($){"use strict";var Modal=function(element,options){this.options=options;this.$body=$(document.body);this.$element=$(element);this.$backdrop=this.isShown=null;this.scrollbarWidth=0;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};Modal.VERSION="3.2.0";Modal.DEFAULTS={backdrop:true,keyboard:true,show:true};Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)};Modal.prototype.show=function(_relatedTarget){var that=this;var e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.$body.addClass("modal-open");this.setScrollbar();this.escape();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this));this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(that.$body)}that.$element.show().scrollTop(0);if(transition){that.$element[0].offsetWidth}that.$element.addClass("in").attr("aria-hidden",false);that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):that.$element.trigger("focus").trigger(e)})};Modal.prototype.hide=function(e){if(e)e.preventDefault();e=$.Event("hide.bs.modal");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.$body.removeClass("modal-open");this.resetScrollbar();this.escape();$(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.bs.modal");$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}};Modal.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.$element.trigger("hidden.bs.modal")})};Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};Modal.prototype.backdrop=function(callback){var that=this;var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(150):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop();callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(150):callbackRemove()}else if(callback){callback()}};Modal.prototype.checkScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return;this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar()};Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);if(this.scrollbarWidth)this.$body.css("padding-right",bodyPad+this.scrollbarWidth)};Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure";this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;this.$body[0].removeChild(scrollDiv);return scrollbarWidth};function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this);var data=$this.data("bs.modal");var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.modal",data=new Modal(this,options));if(typeof option=="string")data[option](_relatedTarget);else if(options.show)data.show(_relatedTarget)})}var old=$.fn.modal;$.fn.modal=Plugin;$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));var option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());if($this.is("a"))e.preventDefault();$target.one("show.bs.modal",function(showEvent){if(showEvent.isDefaultPrevented())return;$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})});Plugin.call($target,option,this)})}(jQuery);!function($){"use strict";var ModalV3=function(element,options){this.options=options;this.$element=$(element);this.$backdrop=null;this.isShown=null;if(this.options.remote){this.$element.find(".modalV3-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modalV3")},this))}};ModalV3.prototype.constructor=ModalV3;ModalV3.DEFAULTS={backdrop:true,keyboard:true,show:true};ModalV3.prototype.toggle=function(_relatedTarget){return this[!this.isShown?"show":"hide"](_relatedTarget)};ModalV3.prototype.show=function(_relatedTarget){var that=this;var e=$.Event("show.bs.modalV3",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.escape();this.$element.on("click.dismiss.bs.modalV3",'[data-dismiss="modalV3"]',$.proxy(this.hide,this));this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(document.body)}that.$element.show().scrollTop(0);if(transition){that.$element[0].offsetWidth}that.$element.addClass("in").attr("aria-hidden",false);that.enforceFocus();var e=$.Event("shown.bs.modalV3",{relatedTarget:_relatedTarget});transition?that.$element.find(".modalV3-dialog").one($.support.transition.end,function(){that.$element.focus().trigger(e)}).emulateTransitionEnd(300):that.$element.focus().trigger(e)})};ModalV3.prototype.hide=function(e){if(e)e.preventDefault();e=$.Event("hide.bs.modalV3");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();$(document).off("focusin.bs.modalV3");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.bs.modalV3");$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};ModalV3.prototype.enforceFocus=function(){$(document).off("focusin.bs.modalV3").on("focusin.bs.modalV3",$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.focus()}},this))};ModalV3.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modalV3",$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keyup.dismiss.bs.modalV3")}};ModalV3.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.removeBackdrop();that.$element.trigger("hidden.bs.modalV3")})};ModalV3.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};ModalV3.prototype.backdrop=function(callback){var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$('<div class="modalV3-backdrop '+animate+'" />').appendTo(document.body);this.$element.on("click.dismiss.bs.modalV3",$.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,callback).emulateTransitionEnd(150):callback()}else if(callback){callback()}};var old=$.fn.modalV3;$.fn.modalV3=function(option,_relatedTarget){return this.each(function(){var $this=$(this);var data=$this.data("bs.modalV3");var options=$.extend({},ModalV3.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.modalV3",data=new ModalV3(this,options));if(typeof option=="string")data[option](_relatedTarget);else if(options.show)data.show(_relatedTarget)})};$.fn.modalV3.Constructor=ModalV3;$.fn.modalV3.noConflict=function(){$.fn.modalV3=old;return this};$(document).on("click.bs.modalV3.data-api",'[data-toggle="modalV3"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));var option=$target.data("bs.modalV3")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());if($this.is("a"))e.preventDefault();$target.modalV3(option,this).one("hide",function(){$this.is(":visible")&&$this.focus()})});$(document).on("show.bs.modalV3",".modalV3",function(){$(document.body).addClass("modalV3-open")}).on("hidden.bs.modalV3",".modalV3",function(){$(document.body).removeClass("modalV3-open")})}(jQuery);+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",element,options)};Tooltip.VERSION="3.2.0";Tooltip.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};Tooltip.prototype.init=function(type,element,options){this.enabled=true;this.type=type;this.$element=$(element);this.options=this.getOptions(options);this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport);var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click"){this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focusin";var eventOut=trigger=="hover"?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS};Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options);if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options};Tooltip.prototype.getDelegateOptions=function(){var options={};var defaults=this.getDefaults();this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value});return options};Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions());$(obj.currentTarget).data("bs."+this.type,self)}clearTimeout(self.timeout);self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)};Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions());$(obj.currentTarget).data("bs."+this.type,self)}clearTimeout(self.timeout);self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)};Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this;var $tip=this.tip();var tipId=this.getUID(this.type);this.setContent();$tip.attr("id",tipId);this.$element.attr("aria-describedby",tipId);if(this.options.animation)$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace)placement=placement.replace(autoToken,"")||"top";$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this);this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement;var $parent=this.$element.parent();var parentDim=this.getPosition($parent);placement=placement=="bottom"&&pos.top+pos.height+actualHeight-parentDim.scroll>parentDim.height?"top":placement=="top"&&pos.top-parentDim.scroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentDim.width?"left":placement=="left"&&pos.left-actualWidth<parentDim.left?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){that.$element.trigger("shown.bs."+that.type);that.hoverState=null};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(150):complete()}};Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip();var width=$tip[0].offsetWidth;var height=$tip[0].offsetHeight;var marginTop=parseInt($tip.css("margin-top"),10);var marginLeft=parseInt($tip.css("margin-left"),10);if(isNaN(marginTop))marginTop=0;if(isNaN(marginLeft))marginLeft=0;offset.top=offset.top+marginTop;offset.left=offset.left+marginLeft;$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0);$tip.addClass("in");var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){offset.top=offset.top+height-actualHeight}var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);if(delta.left)offset.left+=delta.left;else offset.top+=delta.top;var arrowDelta=delta.left?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight;var arrowPosition=delta.left?"left":"top";var arrowOffsetPosition=delta.left?"offsetWidth":"offsetHeight";$tip.offset(offset);this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],arrowPosition)};Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")};Tooltip.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")};Tooltip.prototype.hide=function(){var that=this;var $tip=this.tip();var e=$.Event("hide.bs."+this.type);this.$element.removeAttr("aria-describedby");function complete(){if(that.hoverState!="in")$tip.detach();that.$element.trigger("hidden.bs."+that.type)}this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip.removeClass("in");$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(150):complete();this.hoverState=null;return this};Tooltip.prototype.fixTitle=function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").attr("title","")}};Tooltip.prototype.hasContent=function(){return this.getTitle()};Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0];var isBody=el.tagName=="BODY";return $.extend({},typeof el.getBoundingClientRect=="function"?el.getBoundingClientRect():null,{scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop(),width:isBody?$(window).width():$element.outerWidth(),height:isBody?$(window).height():$element.outerHeight()},isBody?{top:0,left:0}:$element.offset())};Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}};Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0;var viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll;var bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;if(topEdgeOffset<viewportDimensions.top){delta.top=viewportDimensions.top-topEdgeOffset}else if(bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height){delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset}}else{var leftEdgeOffset=pos.left-viewportPadding;var rightEdgeOffset=pos.left+viewportPadding+actualWidth;if(leftEdgeOffset<viewportDimensions.left){delta.left=viewportDimensions.left-leftEdgeOffset}else if(rightEdgeOffset>viewportDimensions.width){delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset}}return delta};Tooltip.prototype.getTitle=function(){var title;var $e=this.$element;var o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title};Tooltip.prototype.getUID=function(prefix){do prefix+=~~(Math.random()*1e6);while(document.getElementById(prefix));return prefix};Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)};Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};Tooltip.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};Tooltip.prototype.enable=function(){this.enabled=true};Tooltip.prototype.disable=function(){this.enabled=false};Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled};Tooltip.prototype.toggle=function(e){var self=this;if(e){self=$(e.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(e.currentTarget,this.getDelegateOptions());$(e.currentTarget).data("bs."+this.type,self)}}self.tip().hasClass("in")?self.leave(self):self.enter(self)};Tooltip.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tooltip");var options=typeof option=="object"&&option;if(!data&&option=="destroy")return;if(!data)$this.data("bs.tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.tooltip;$.fn.tooltip=Plugin;$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(jQuery);+function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.2.0";Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype);Popover.prototype.constructor=Popover;Popover.prototype.getDefaults=function(){return Popover.DEFAULTS};Popover.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();var content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content").empty()[this.options.html?typeof content=="string"?"html":"append":"text"](content);$tip.removeClass("fade top bottom left right in");if(!$tip.find(".popover-title").html())$tip.find(".popover-title").hide()};Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()};Popover.prototype.getContent=function(){var $e=this.$element;var o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)};Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};Popover.prototype.tip=function(){if(!this.$tip)this.$tip=$(this.options.template);return this.$tip};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.popover");var options=typeof option=="object"&&option;if(!data&&option=="destroy")return;if(!data)$this.data("bs.popover",data=new Popover(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.popover;$.fn.popover=Plugin;$.fn.popover.Constructor=Popover;$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(jQuery);+function($){"use strict";function ScrollSpy(element,options){var process=$.proxy(this.process,this);this.$body=$("body");this.$scrollElement=$(element).is("body")?$(window):$(element);this.options=$.extend({},ScrollSpy.DEFAULTS,options);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",process);this.refresh();this.process()}ScrollSpy.VERSION="3.2.0";ScrollSpy.DEFAULTS={offset:10};ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};ScrollSpy.prototype.refresh=function(){var offsetMethod="offset";var offsetBase=0;if(!$.isWindow(this.$scrollElement[0])){offsetMethod="position";offsetBase=this.$scrollElement.scrollTop()}this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var self=this;this.$body.find(this.selector).map(function(){var $el=$(this);var href=$el.data("target")||$el.attr("href");var $href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]);self.targets.push(this[1])})};ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset;var scrollHeight=this.getScrollHeight();var maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height();var offsets=this.offsets;var targets=this.targets;var activeTarget=this.activeTarget;var i;if(this.scrollHeight!=scrollHeight){this.refresh()}if(scrollTop>=maxScroll){return activeTarget!=(i=targets[targets.length-1])&&this.activate(i)}if(activeTarget&&scrollTop<=offsets[0]){return activeTarget!=(i=targets[0])&&this.activate(i)}for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])}};ScrollSpy.prototype.activate=function(target){this.activeTarget=target;$(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]';var active=$(selector).parents("li").addClass("active");if(active.parent(".dropdown-menu").length){active=active.closest("li.dropdown").addClass("active")}active.trigger("activate.bs.scrollspy")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.scrollspy");var options=typeof option=="object"&&option;if(!data)$this.data("bs.scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.scrollspy;$.fn.scrollspy=Plugin;$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old;return this};$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery);+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.VERSION="3.2.0";Tab.prototype.show=function(){var $this=this.element;var $ul=$this.closest("ul:not(.dropdown-menu)");var selector=$this.data("target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;var previous=$ul.find(".active:last a")[0];var e=$.Event("show.bs.tab",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;var $target=$(selector);this.activate($this.closest("li"),$ul);this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})};Tab.prototype.activate=function(element,container,callback){var $active=container.find("> .active");var transition=callback&&$.support.transition&&$active.hasClass("fade");function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");element.addClass("active");if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu")){element.closest("li.dropdown").addClass("active")}callback&&callback()}transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(150):next();$active.removeClass("in")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tab");if(!data)$this.data("bs.tab",data=new Tab(this));if(typeof option=="string")data[option]()})}var old=$.fn.tab;$.fn.tab=Plugin;$.fn.tab.Constructor=Tab;$.fn.tab.noConflict=function(){$.fn.tab=old;return this};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault();Plugin.call($(this),"show")})}(jQuery);!function($){"use strict";var Typeahead=function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.typeahead.defaults,options);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=$(this.options.menu);this.shown=false;this.listen()};Typeahead.prototype={constructor:Typeahead,select:function(){var val=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(val)).change();return this.hide()},updater:function(item){return item},show:function(){var pos=$.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:pos.top+pos.height,left:pos.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(event){var items;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}items=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source;return items?this.process(items):this},process:function(items){var that=this;items=$.grep(items,function(item){return that.matcher(item)});items=this.sorter(items);if(!items.length){return this.shown?this.hide():this}return this.render(items.slice(0,this.options.items)).show()},matcher:function(item){return~item.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(items){var beginswith=[],caseSensitive=[],caseInsensitive=[],item;while(item=items.shift()){if(!item.toLowerCase().indexOf(this.query.toLowerCase()))beginswith.push(item);else if(~item.indexOf(this.query))caseSensitive.push(item);else caseInsensitive.push(item)}return beginswith.concat(caseSensitive,caseInsensitive)},highlighter:function(item){var query=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return item.replace(new RegExp("("+query+")","ig"),function($1,match){return"<strong>"+match+"</strong>"})},render:function(items){var that=this;items=$(items).map(function(i,item){i=$(that.options.item).attr("data-value",item);i.find("a").html(that.highlighter(item));return i[0]});items.first().addClass("active");this.$menu.html(items);return this},next:function(event){var active=this.$menu.find(".active").removeClass("active"),next=active.next();if(!next.length){next=$(this.$menu.find("li")[0])}next.addClass("active")},prev:function(event){var active=this.$menu.find(".active").removeClass("active"),prev=active.prev();if(!prev.length){prev=this.$menu.find("li").last()}prev.addClass("active")},listen:function(){this.$element.on("focus",$.proxy(this.focus,this)).on("blur",$.proxy(this.blur,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",$.proxy(this.keydown,this))}this.$menu.on("click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this)).on("mouseleave","li",$.proxy(this.mouseleave,this))},eventSupported:function(eventName){var isSupported=eventName in this.$element;if(!isSupported){this.$element.setAttribute(eventName,"return;");isSupported=typeof this.$element[eventName]==="function"}return isSupported},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault();this.prev();break;case 40:e.preventDefault();this.next();break}e.stopPropagation()},keydown:function(e){this.suppressKeyPressRepeat=~$.inArray(e.keyCode,[40,38,9,13,27]);this.move(e)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation();e.preventDefault()},focus:function(e){this.focused=true},blur:function(e){this.focused=false;if(!this.mousedover&&this.shown)this.hide()},click:function(e){e.stopPropagation();e.preventDefault();this.select();this.$element.focus()},mouseenter:function(e){this.mousedover=true;this.$menu.find(".active").removeClass("active");$(e.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=false;if(!this.focused&&this.shown)this.hide()}};var old=$.fn.typeahead;$.fn.typeahead=function(option){return this.each(function(){var $this=$(this),data=$this.data("typeahead"),options=typeof option=="object"&&option;if(!data)$this.data("typeahead",data=new Typeahead(this,options));if(typeof option=="string")data[option]()})};$.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};$.fn.typeahead.Constructor=Typeahead;$.fn.typeahead.noConflict=function(){$.fn.typeahead=old;return this};$(function(){$(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var $this=$(this);if($this.data("typeahead"))return;$this.typeahead($this.data())})})}(window.jQuery);+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options);this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this));this.$element=$(element);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};Affix.VERSION="3.2.0";Affix.RESET="affix affix-top affix-bottom";Affix.DEFAULTS={offset:0,target:window};Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop();var position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop};Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)};Affix.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var scrollHeight=$(document).height();var scrollTop=this.$target.scrollTop();var position=this.$element.offset();var offset=this.options.offset;var offsetTop=offset.top;var offsetBottom=offset.bottom;if(typeof offset!="object")offsetBottom=offsetTop=offset;if(typeof offsetTop=="function")offsetTop=offset.top(this.$element);if(typeof offsetBottom=="function")offsetBottom=offset.bottom(this.$element);var affix=this.unpin!=null&&scrollTop+this.unpin<=position.top?false:offsetBottom!=null&&position.top+this.$element.height()>=scrollHeight-offsetBottom?"bottom":offsetTop!=null&&scrollTop<=offsetTop?"top":false;if(this.affixed===affix)return;if(this.unpin!=null)this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:"");var e=$.Event(affixType+".bs.affix");this.$element.trigger(e);if(e.isDefaultPrevented())return;this.affixed=affix;this.unpin=affix=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(Affix.RESET).addClass(affixType).trigger($.Event(affixType.replace("affix","affixed")));if(affix=="bottom"){this.$element.offset({top:scrollHeight-this.$element.height()-offsetBottom})}};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.affix");var options=typeof option=="object"&&option;if(!data)$this.data("bs.affix",data=new Affix(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.affix;$.fn.affix=Plugin;$.fn.affix.Constructor=Affix;$.fn.affix.noConflict=function(){$.fn.affix=old;return this};$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this);var data=$spy.data();data.offset=data.offset||{};if(data.offsetBottom)data.offset.bottom=data.offsetBottom;if(data.offsetTop)data.offset.top=data.offsetTop;Plugin.call($spy,data)})})}(jQuery);!function($){$("body").bind("startLoading",function(){$("BODY").loading("start")}).bind("finishedLoading",function(){$("BODY").loading("finished")});$.fn.loading=function(action,options){var $el=$(this),defaults={loader:"#loader",spinner:".spinner",multiple:false},offset=$el.offset(),width=$el.outerWidth(),height=$el.outerHeight(),loader,spinner,$loader,$spinner,loaderId=$el.data("loader")||Math.floor(Math.random()*1e4+1);$.extend(defaults,defaults,options);loader=defaults.loader;spinner=defaults.spinner;var addLoader=function(item){item=item===undefined?"":item;$("BODY").append("<div id='loader"+item+"' class='load'><div class='shim'></div><div class='spinner'><img src='https://images-na.ssl-images-amazon.com/images/G/01/oneg/img/spinner.gif'></div></div>");$loader=$(loader+item+".load");$spinner=$(loader+item+".load"+" "+spinner)};var createLoader=function(){if(defaults.multiple){if($el.data("loader")===undefined){addLoader(loaderId);$el.data("loader",loaderId)}else{$loader=$(loader+loaderId+".load");$spinner=$(loader+loaderId+".load"+" "+spinner)}}else{findLoader();if($loader===undefined||$loader.length===0){addLoader()}}};var findLoader=function(){var id=$el.data("loader")===undefined?"":$el.data("loader");$loader=$(loader+id+".load");$spinner=$(loader+id+".load"+" "+spinner)};var hideLoader=function(){findLoader();$loader.css("display","none");$el.css("opacity","1");if($el.is("BODY")){undoBody()}};var doBody=function(){$el.css("overflow","hidden");$loader.removeAttr("style");$loader.addClass("fullscreen")};var undoBody=function(){$el.css("overflow","");$loader.removeClass("fullscreen")};var doElement=function(){$loader.height(height).width(width).css("top",offset.top).css("left",offset.left);$loader.css("display","block")};if(action===undefined||action==="start"){createLoader();if($el.is("BODY")){doBody()}else{doElement()}}else if(action==="finished"){hideLoader()}return this}}(window.jQuery);!function($){$(function(){})}(window.jQuery);!function($){var CustomFilter=function(element,options){this.$element=$(element);this.options=$.extend({},$.fn.customfilter.defaults,options);this.filtered=false;this.listen()};$.fn.customfilter=function(opt){return this.each(function(){var $this=$(this),data=$this.data("customfilter"),options=typeof opt=="object"&&opt;if(!data)$this.data("customfilter",data=new CustomFilter(this,options));if(typeof option=="string")data[option]()})};CustomFilter.prototype={constructor:CustomFilter,listen:function(){var that=this,opt=this.options;this.$element.on("keyup change",function(e){if($(this).val().length>=opt.minchars){that.filter()}else if(that.filtered===true){that.clear()}})},filter:function(){var str=this.$element.val(),opt=this.options;opt.filter(str);this.filtered=true},clear:function(){var opt=this.options;opt.clearFilter();this.filtered=false}};$.fn.customfilter.defaults={minchars:3,filter:function(s){},clearFilter:function(){}};$.fn.customfilter.Constructor=CustomFilter}(window.jQuery);!function($){"use strict";$.extend({tablesorter:new function(){var ts=this;ts.version="2.17.7";ts.parsers=[];ts.widgets=[];ts.defaults={theme:"default",widthFixed:false,showProcessing:false,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:true,tabIndex:true,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:true,delayInit:false,serverSideSorting:false,headers:{},ignoreCase:true,sortForce:null,sortList:[],sortAppend:null,sortStable:false,sortInitialOrder:"asc",sortLocaleCompare:false,sortReset:false,sortRestart:false,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:true,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:false,headerList:[],empties:{},strings:{},parsers:[]};ts.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"};ts.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"};function log(){var a=arguments[0],s=arguments.length>1?Array.prototype.slice.call(arguments):a;if(typeof console!=="undefined"&&typeof console.log!=="undefined"){console[/error/i.test(a)?"error":/warn/i.test(a)?"warn":"log"](s)}else{alert(s)}}function benchmark(s,d){log(s+" ("+((new Date).getTime()-d.getTime())+"ms)")}ts.log=log;ts.benchmark=benchmark;function isEmptyObject(obj){for(var name in obj){return false}return true}function getElementText(table,node,cellIndex){if(!node){return""}var te,c=table.config,t=c.textExtraction||"",text="";if(t==="basic"){text=$(node).attr(c.textAttribute)||node.textContent||node.innerText||$(node).text()||""}else{if(typeof t==="function"){text=t(node,table,cellIndex)}else if(typeof(te=ts.getColumnData(table,t,cellIndex))==="function"){text=te(node,table,cellIndex)}else{text=node.textContent||node.innerText||$(node).text()||""}}return $.trim(text)}function detectParserForColumn(table,rows,rowIndex,cellIndex){var cur,i=ts.parsers.length,node=false,nodeValue="",keepLooking=true;while(nodeValue===""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=rows[rowIndex].cells[cellIndex];nodeValue=getElementText(table,node,cellIndex);if(table.config.debug){log("Checking if value was empty on row "+rowIndex+", column: "+cellIndex+': "'+nodeValue+'"')}}else{keepLooking=false}}while(--i>=0){cur=ts.parsers[i];if(cur&&cur.id!=="text"&&cur.is&&cur.is(nodeValue,table,node)){return cur}}return ts.getParserById("text")}function buildParserCache(table){var c=table.config,tb=c.$tbodies=c.$table.children("tbody:not(."+c.cssInfoBlock+")"),rows,list,l,i,h,ch,np,p,e,time,j=0,parsersDebug="",len=tb.length;if(len===0){return c.debug?log("Warning: *Empty table!* Not building a parser cache"):""}else if(c.debug){time=new Date;log("Detecting parsers for each column")}list={extractors:[],parsers:[]};while(j<len){rows=tb[j].rows;if(rows[j]){l=c.columns;for(i=0;i<l;i++){h=c.$headers.filter('[data-column="'+i+'"]:last');ch=ts.getColumnData(table,c.headers,i);e=ts.getParserById(ts.getData(h,ch,"extractor"));p=ts.getParserById(ts.getData(h,ch,"sorter"));np=ts.getData(h,ch,"parser")==="false";c.empties[i]=ts.getData(h,ch,"empty")||c.emptyTo||(c.emptyToBottom?"bottom":"top");c.strings[i]=ts.getData(h,ch,"string")||c.stringTo||"max";if(np){p=ts.getParserById("no-parser")}if(!e){e=false}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(c.debug){parsersDebug+="column:"+i+"; extractor:"+e.id+"; parser:"+p.id+"; string:"+c.strings[i]+"; empty: "+c.empties[i]+"\n"}list.parsers[i]=p;list.extractors[i]=e}}j+=list.parsers.length?len:1}if(c.debug){log(parsersDebug?parsersDebug:"No parsers detected");benchmark("Completed detecting parsers",time)}c.parsers=list.parsers;c.extractors=list.extractors}function buildCache(table){var cc,t,tx,v,i,j,k,$row,rows,cols,cacheTime,totalRows,rowData,colMax,c=table.config,$tb=c.$table.children("tbody"),extractors=c.extractors,parsers=c.parsers;c.cache={};c.totalRows=0;if(!parsers){return c.debug?log("Warning: *Empty table!* Not building a cache"):""}if(c.debug){cacheTime=new Date}if(c.showProcessing){ts.isProcessing(table,true)}for(k=0;k<$tb.length;k++){colMax=[];cc=c.cache[k]={normalized:[]};if(!$tb.eq(k).hasClass(c.cssInfoBlock)){totalRows=$tb[k]&&$tb[k].rows.length||0;for(i=0;i<totalRows;++i){rowData={child:[]};$row=$($tb[k].rows[i]);rows=[new Array(c.columns)];cols=[];if($row.hasClass(c.cssChildRow)&&i!==0){t=cc.normalized.length-1;cc.normalized[t][c.columns].$row=cc.normalized[t][c.columns].$row.add($row);if(!$row.prev().hasClass(c.cssChildRow)){$row.prev().addClass(ts.css.cssHasChild)}rowData.child[t]=$.trim($row[0].textContent||$row[0].innerText||$row.text()||"");continue}rowData.$row=$row;rowData.order=i;for(j=0;j<c.columns;++j){if(typeof parsers[j]==="undefined"){if(c.debug){log("No parser found for cell:",$row[0].cells[j],"does it have a header?")}continue}t=getElementText(table,$row[0].cells[j],j);if(typeof extractors[j].id==="undefined"){tx=t}else{tx=extractors[j].format(t,table,$row[0].cells[j],j)}v=parsers[j].id==="no-parser"?"":parsers[j].format(tx,table,$row[0].cells[j],j);cols.push(c.ignoreCase&&typeof v==="string"?v.toLowerCase():v);if((parsers[j].type||"").toLowerCase()==="numeric"){colMax[j]=Math.max(Math.abs(v)||0,colMax[j]||0)}}cols[c.columns]=rowData;cc.normalized.push(cols)}cc.colMax=colMax;c.totalRows+=cc.normalized.length}}if(c.showProcessing){ts.isProcessing(table)}if(c.debug){benchmark("Building cache for "+totalRows+" rows",cacheTime)}}function appendToTable(table,init){var c=table.config,wo=c.widgetOptions,b=table.tBodies,rows=[],cc=c.cache,n,totalRows,$bk,$tb,i,k,appendTime;if(isEmptyObject(cc)){return c.appender?c.appender(table,rows):table.isUpdating?c.$table.trigger("updateComplete",table):""}if(c.debug){appendTime=new Date}for(k=0;k<b.length;k++){$bk=$(b[k]);if($bk.length&&!$bk.hasClass(c.cssInfoBlock)){$tb=ts.processTbody(table,$bk,true);n=cc[k].normalized;totalRows=n.length;for(i=0;i<totalRows;i++){rows.push(n[i][c.columns].$row);if(!c.appender||c.pager&&(!c.pager.removeRows||!wo.pager_removeRows)&&!c.pager.ajax){$tb.append(n[i][c.columns].$row)}}ts.processTbody(table,$tb,false)}}if(c.appender){c.appender(table,rows)}if(c.debug){benchmark("Rebuilt table",appendTime)}if(!init&&!c.appender){ts.applyWidget(table)}if(table.isUpdating){c.$table.trigger("updateComplete",table)}}function formatSortingOrder(v){return/^d/i.test(v)||v===1}function buildHeaders(table){var ch,$t,h,i,t,lock,time,c=table.config;c.headerList=[];c.headerContent=[];if(c.debug){time=new Date}c.columns=ts.computeColumnIndex(c.$table.children("thead, tfoot").children("tr"));i=c.cssIcon?'<i class="'+(c.cssIcon===ts.css.icon?ts.css.icon:c.cssIcon+" "+ts.css.icon)+'"></i>':"";c.$headers=$(table).find(c.selectorHeaders).each(function(index){$t=$(this);ch=ts.getColumnData(table,c.headers,index,true);c.headerContent[index]=$(this).html();t=c.headerTemplate.replace(/\{content\}/g,$(this).html()).replace(/\{icon\}/g,i);if(c.onRenderTemplate){h=c.onRenderTemplate.apply($t,[index,t]);if(h&&typeof h==="string"){t=h}}$(this).html('<div class="'+ts.css.headerIn+'">'+t+"</div>");if(c.onRenderHeader){c.onRenderHeader.apply($t,[index])}this.column=parseInt($(this).attr("data-column"),10);this.order=formatSortingOrder(ts.getData($t,ch,"sortInitialOrder")||c.sortInitialOrder)?[1,0,2]:[0,1,2];this.count=-1;this.lockedOrder=false;lock=ts.getData($t,ch,"lockedOrder")||false;if(typeof lock!=="undefined"&&lock!==false){this.order=this.lockedOrder=formatSortingOrder(lock)?[1,1,1]:[0,0,0]}$t.addClass(ts.css.header+" "+c.cssHeader);c.headerList[index]=this;$t.parent().addClass(ts.css.headerRow+" "+c.cssHeaderRow).attr("role","row");if(c.tabIndex){$t.attr("tabindex",0)}}).attr({scope:"col",role:"columnheader"});updateHeader(table);if(c.debug){benchmark("Built headers:",time);log(c.$headers)}}function commonUpdate(table,resort,callback){var c=table.config;c.$table.find(c.selectorRemove).remove();buildParserCache(table);buildCache(table);checkResort(c.$table,resort,callback)}function updateHeader(table){var s,$th,col,c=table.config;c.$headers.each(function(index,th){$th=$(th);col=ts.getColumnData(table,c.headers,index,true);s=ts.getData(th,col,"sorter")==="false"||ts.getData(th,col,"parser")==="false";th.sortDisabled=s;$th[s?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+s);if(table.id){if(s){$th.removeAttr("aria-controls")}else{$th.attr("aria-controls",table.id)}}})}function setHeadersCss(table){var f,i,j,c=table.config,list=c.sortList,len=list.length,none=ts.css.sortNone+" "+c.cssNone,css=[ts.css.sortAsc+" "+c.cssAsc,ts.css.sortDesc+" "+c.cssDesc],aria=["ascending","descending"],$t=$(table).find("tfoot tr").children().add(c.$extraHeaders).removeClass(css.join(" "));c.$headers.removeClass(css.join(" ")).addClass(none).attr("aria-sort","none");for(i=0;i<len;i++){if(list[i][1]!==2){f=c.$headers.not(".sorter-false").filter('[data-column="'+list[i][0]+'"]'+(len===1?":last":""));if(f.length){for(j=0;j<f.length;j++){if(!f[j].sortDisabled){f.eq(j).removeClass(none).addClass(css[list[i][1]]).attr("aria-sort",aria[list[i][1]])}}if($t.length){$t.filter('[data-column="'+list[i][0]+'"]').removeClass(none).addClass(css[list[i][1]])}}}}c.$headers.not(".sorter-false").each(function(){var $this=$(this),nextSort=this.order[(this.count+1)%(c.sortReset?3:2)],txt=$this.text()+": "+ts.language[$this.hasClass(ts.css.sortAsc)?"sortAsc":$this.hasClass(ts.css.sortDesc)?"sortDesc":"sortNone"]+ts.language[nextSort===0?"nextAsc":nextSort===1?"nextDesc":"nextNone"];$this.attr("aria-label",txt)})}function fixColumnWidth(table){if(table.config.widthFixed&&$(table).find("colgroup").length===0){var colgroup=$("<colgroup>"),overallWidth=$(table).width();$(table.tBodies[0]).find("tr:first").children(":visible").each(function(){colgroup.append($("<col>").css("width",parseInt($(this).width()/overallWidth*1e3,10)/10+"%"))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,list){var s,t,o,col,primary,c=table.config,sl=list||c.sortList;c.sortList=[];$.each(sl,function(i,v){col=parseInt(v[0],10);o=c.$headers.filter('[data-column="'+col+'"]:last')[0];if(o){t=(""+v[1]).match(/^(1|d|s|o|n)/);t=t?t[0]:"";switch(t){case"1":case"d":t=1;break;case"s":t=primary||0;break;case"o":s=o.order[(primary||0)%(c.sortReset?3:2)];t=s===0?1:s===1?0:2;break;case"n":o.count=o.count+1;t=o.order[o.count%(c.sortReset?3:2)];break;default:t=0;break}primary=i===0?t:primary;s=[col,parseInt(t,10)||0];c.sortList.push(s);t=$.inArray(s[1],o.order);o.count=t>=0?t:s[1]%(c.sortReset?3:2)}})}function getCachedSortType(parsers,i){return parsers&&parsers[i]?parsers[i].type||"":""}function initSort(table,cell,event){if(table.isUpdating){return setTimeout(function(){initSort(table,cell,event)},50)}var arry,indx,col,order,s,c=table.config,key=!event[c.sortMultiSortKey],$table=c.$table;$table.trigger("sortStart",table);cell.count=event[c.sortResetKey]?2:(cell.count+1)%(c.sortReset?3:2);if(c.sortRestart){indx=cell;c.$headers.each(function(){if(this!==indx&&(key||!$(this).is("."+ts.css.sortDesc+",."+ts.css.sortAsc))){this.count=-1}})}indx=cell.column;if(key){c.sortList=[];if(c.sortForce!==null){arry=c.sortForce;for(col=0;col<arry.length;col++){if(arry[col][0]!==indx){c.sortList.push(arry[col])}}}order=cell.order[cell.count];if(order<2){c.sortList.push([indx,order]);if(cell.colSpan>1){for(col=1;col<cell.colSpan;col++){c.sortList.push([indx+col,order])}}}}else{if(c.sortAppend&&c.sortList.length>1){for(col=0;col<c.sortAppend.length;col++){s=ts.isValueInArray(c.sortAppend[col][0],c.sortList);if(s>=0){c.sortList.splice(s,1)}}}if(ts.isValueInArray(indx,c.sortList)>=0){for(col=0;col<c.sortList.length;col++){s=c.sortList[col];order=c.$headers.filter('[data-column="'+s[0]+'"]:last')[0];if(s[0]===indx){s[1]=order.order[cell.count];if(s[1]===2){c.sortList.splice(col,1);order.count=-1}}}}else{order=cell.order[cell.count];if(order<2){c.sortList.push([indx,order]);if(cell.colSpan>1){for(col=1;col<cell.colSpan;col++){c.sortList.push([indx+col,order])}}}}}if(c.sortAppend!==null){arry=c.sortAppend;for(col=0;col<arry.length;col++){if(arry[col][0]!==indx){c.sortList.push(arry[col])}}}$table.trigger("sortBegin",table);setTimeout(function(){setHeadersCss(table);multisort(table);appendToTable(table);$table.trigger("sortEnd",table)},1)}function multisort(table){var i,k,num,col,sortTime,colMax,cache,order,sort,x,y,dir=0,c=table.config,cts=c.textSorter||"",sortList=c.sortList,l=sortList.length,bl=table.tBodies.length;if(c.serverSideSorting||isEmptyObject(c.cache)){return}if(c.debug){sortTime=new Date}for(k=0;k<bl;k++){colMax=c.cache[k].colMax;cache=c.cache[k].normalized;cache.sort(function(a,b){for(i=0;i<l;i++){col=sortList[i][0];order=sortList[i][1];dir=order===0;if(c.sortStable&&a[col]===b[col]&&l===1){return a[c.columns].order-b[c.columns].order}num=/n/i.test(getCachedSortType(c.parsers,col));if(num&&c.strings[col]){if(typeof c.string[c.strings[col]]==="boolean"){num=(dir?1:-1)*(c.string[c.strings[col]]?-1:1)}else{num=c.strings[col]?c.string[c.strings[col]]||0:0}sort=c.numberSorter?c.numberSorter(a[col],b[col],dir,colMax[col],table):ts["sortNumeric"+(dir?"Asc":"Desc")](a[col],b[col],num,colMax[col],col,table)}else{x=dir?a:b;y=dir?b:a;if(typeof cts==="function"){sort=cts(x[col],y[col],dir,col,table)}else if(typeof cts==="object"&&cts.hasOwnProperty(col)){sort=cts[col](x[col],y[col],dir,col,table)}else{sort=ts["sortNatural"+(dir?"Asc":"Desc")](a[col],b[col],col,table,c)}}if(sort){return sort}}return a[c.columns].order-b[c.columns].order})}if(c.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time",sortTime)}}function resortComplete($table,callback){var table=$table[0];if(table.isUpdating){$table.trigger("updateComplete")}if($.isFunction(callback)){callback($table[0])}}function checkResort($table,flag,callback){var sl=$table[0].config.sortList;if(flag!==false&&!$table[0].isProcessing&&sl.length){$table.trigger("sorton",[sl,function(){resortComplete($table,callback)},true])}else{resortComplete($table,callback);ts.applyWidget($table[0],false)}}function bindMethods(table){var c=table.config,$table=c.$table;$table.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(c.namespace+" ")).bind("sortReset"+c.namespace,function(e,callback){e.stopPropagation();c.sortList=[];setHeadersCss(table);multisort(table);appendToTable(table);if($.isFunction(callback)){callback(table)}}).bind("updateAll"+c.namespace,function(e,resort,callback){e.stopPropagation();table.isUpdating=true;ts.refreshWidgets(table,true,true);ts.restoreHeaders(table);buildHeaders(table);ts.bindEvents(table,c.$headers,true);bindMethods(table);commonUpdate(table,resort,callback)}).bind("update"+c.namespace+" updateRows"+c.namespace,function(e,resort,callback){e.stopPropagation();table.isUpdating=true;updateHeader(table);commonUpdate(table,resort,callback)}).bind("updateCell"+c.namespace,function(e,cell,resort,callback){e.stopPropagation();table.isUpdating=true;$table.find(c.selectorRemove).remove();var v,t,row,icell,$tb=$table.find("tbody"),$cell=$(cell),tbdy=$tb.index($.fn.closest?$cell.closest("tbody"):$cell.parents("tbody").filter(":first")),$row=$.fn.closest?$cell.closest("tr"):$cell.parents("tr").filter(":first");cell=$cell[0];if($tb.length&&tbdy>=0){row=$tb.eq(tbdy).find("tr").index($row);icell=$cell.index();c.cache[tbdy].normalized[row][c.columns].$row=$row;if(typeof c.extractors[icell].id==="undefined"){t=getElementText(table,cell,icell)}else{t=c.extractors[icell].format(getElementText(table,cell,icell),table,cell,icell)}v=c.parsers[icell].id==="no-parser"?"":c.parsers[icell].format(t,table,cell,icell);c.cache[tbdy].normalized[row][icell]=c.ignoreCase&&typeof v==="string"?v.toLowerCase():v;if((c.parsers[icell].type||"").toLowerCase()==="numeric"){c.cache[tbdy].colMax[icell]=Math.max(Math.abs(v)||0,c.cache[tbdy].colMax[icell]||0)}checkResort($table,resort,callback)}}).bind("addRows"+c.namespace,function(e,$row,resort,callback){e.stopPropagation();table.isUpdating=true;if(isEmptyObject(c.cache)){updateHeader(table);commonUpdate(table,resort,callback)}else{$row=$($row).attr("role","row");var i,j,l,t,v,rowData,cells,rows=$row.filter("tr").length,tbdy=$table.find("tbody").index($row.parents("tbody").filter(":first"));if(!(c.parsers&&c.parsers.length)){buildParserCache(table)}for(i=0;i<rows;i++){l=$row[i].cells.length;cells=[];rowData={child:[],$row:$row.eq(i),order:c.cache[tbdy].normalized.length};for(j=0;j<l;j++){if(typeof c.extractors[j].id==="undefined"){t=getElementText(table,$row[i].cells[j],j)}else{t=c.extractors[j].format(getElementText(table,$row[i].cells[j],j),table,$row[i].cells[j],j)}v=c.parsers[j].id==="no-parser"?"":c.parsers[j].format(t,table,$row[i].cells[j],j);cells[j]=c.ignoreCase&&typeof v==="string"?v.toLowerCase():v;if((c.parsers[j].type||"").toLowerCase()==="numeric"){c.cache[tbdy].colMax[j]=Math.max(Math.abs(cells[j])||0,c.cache[tbdy].colMax[j]||0)}}cells.push(rowData);c.cache[tbdy].normalized.push(cells)}checkResort($table,resort,callback)}}).bind("updateComplete"+c.namespace,function(){table.isUpdating=false}).bind("sorton"+c.namespace,function(e,list,callback,init){var c=table.config;e.stopPropagation();$table.trigger("sortStart",this);updateHeaderSortCount(table,list);setHeadersCss(table);if(c.delayInit&&isEmptyObject(c.cache)){buildCache(table)}$table.trigger("sortBegin",this);multisort(table);appendToTable(table,init);$table.trigger("sortEnd",this);ts.applyWidget(table);if($.isFunction(callback)){callback(table)}}).bind("appendCache"+c.namespace,function(e,callback,init){e.stopPropagation();appendToTable(table,init);if($.isFunction(callback)){callback(table)}}).bind("updateCache"+c.namespace,function(e,callback){if(!(c.parsers&&c.parsers.length)){buildParserCache(table)}buildCache(table);if($.isFunction(callback)){callback(table)}}).bind("applyWidgetId"+c.namespace,function(e,id){e.stopPropagation();ts.getWidgetById(id).format(table,c,c.widgetOptions)}).bind("applyWidgets"+c.namespace,function(e,init){e.stopPropagation();ts.applyWidget(table,init)}).bind("refreshWidgets"+c.namespace,function(e,all,dontapply){e.stopPropagation();ts.refreshWidgets(table,all,dontapply)}).bind("destroy"+c.namespace,function(e,c,cb){e.stopPropagation();ts.destroy(table,c,cb)}).bind("resetToLoadState"+c.namespace,function(){ts.refreshWidgets(table,true,true);c=$.extend(true,ts.defaults,c.originalSettings);table.hasInitialized=false;ts.setup(table,c)})}ts.construct=function(settings){return this.each(function(){var table=this,c=$.extend(true,{},ts.defaults,settings);c.originalSettings=settings;if(!table.hasInitialized&&ts.buildTable&&this.tagName!=="TABLE"){ts.buildTable(table,c)}else{ts.setup(table,c)}})};ts.setup=function(table,c){if(!table||!table.tHead||table.tBodies.length===0||table.hasInitialized===true){return c.debug?log("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):""}var k="",$table=$(table),m=$.metadata;table.hasInitialized=false;table.isProcessing=true;table.config=c;$.data(table,"tablesorter",c);if(c.debug){$.data(table,"startoveralltimer",new Date)}c.supportsDataObject=function(version){version[0]=parseInt(version[0],10);return version[0]>1||version[0]===1&&parseInt(version[1],10)>=4}($.fn.jquery.split("."));c.string={max:1,min:-1,emptyMin:1,emptyMax:-1,zero:0,none:0,"null":0,top:true,bottom:false};if(!/tablesorter\-/.test($table.attr("class"))){k=c.theme!==""?" tablesorter-"+c.theme:""}c.table=table;c.$table=$table.addClass(ts.css.table+" "+c.tableClass+k).attr("role","grid");c.$headers=$table.find(c.selectorHeaders);if(!c.namespace){c.namespace=".tablesorter"+Math.random().toString(16).slice(2)}else{c.namespace="."+c.namespace.replace(/\W/g,"")}c.$table.children().children("tr").attr("role","row");c.$tbodies=$table.children("tbody:not(."+c.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"});if(c.$table.find("caption").length){c.$table.attr("aria-labelledby","theCaption")}c.widgetInit={};c.textExtraction=c.$table.attr("data-text-extraction")||c.textExtraction||"basic";buildHeaders(table);fixColumnWidth(table);buildParserCache(table);c.totalRows=0;if(!c.delayInit){buildCache(table)}ts.bindEvents(table,c.$headers,true);bindMethods(table);if(c.supportsDataObject&&typeof $table.data().sortlist!=="undefined"){c.sortList=$table.data().sortlist}else if(m&&$table.metadata()&&$table.metadata().sortlist){c.sortList=$table.metadata().sortlist}ts.applyWidget(table,true);if(c.sortList.length>0){$table.trigger("sorton",[c.sortList,{},!c.initWidgets,true])}else{setHeadersCss(table);if(c.initWidgets){ts.applyWidget(table,false)}}if(c.showProcessing){$table.unbind("sortBegin"+c.namespace+" sortEnd"+c.namespace).bind("sortBegin"+c.namespace+" sortEnd"+c.namespace,function(e){clearTimeout(c.processTimer);ts.isProcessing(table);if(e.type==="sortBegin"){c.processTimer=setTimeout(function(){ts.isProcessing(table,true)},500)}})}table.hasInitialized=true;table.isProcessing=false;if(c.debug){ts.benchmark("Overall initialization time",$.data(table,"startoveralltimer"))}$table.trigger("tablesorter-initialized",table);if(typeof c.initialized==="function"){c.initialized(table)}};ts.getColumnData=function(table,obj,indx,getCell){if(typeof obj==="undefined"||obj===null){return}table=$(table)[0];var result,$h,k,c=table.config;if(obj[indx]){return getCell?obj[indx]:obj[c.$headers.index(c.$headers.filter('[data-column="'+indx+'"]:last'))]}for(k in obj){if(typeof k==="string"){if(getCell){$h=c.$headers.eq(indx).filter(k)}else{$h=c.$headers.filter('[data-column="'+indx+'"]:last').filter(k)}if($h.length){return obj[k]}}}return result};ts.computeColumnIndex=function(trs){var matrix=[],lookup={},cols=0,i,j,k,l,$cell,cell,cells,rowIndex,cellId,rowSpan,colSpan,firstAvailCol,matrixrow;for(i=0;i<trs.length;i++){cells=trs[i].cells;for(j=0;j<cells.length;j++){cell=cells[j];$cell=$(cell);rowIndex=cell.parentNode.rowIndex;cellId=rowIndex+"-"+$cell.index();rowSpan=cell.rowSpan||1;colSpan=cell.colSpan||1;if(typeof matrix[rowIndex]==="undefined"){matrix[rowIndex]=[]}for(k=0;k<matrix[rowIndex].length+1;k++){if(typeof matrix[rowIndex][k]==="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;cols=Math.max(firstAvailCol,cols);$cell.attr({"data-column":firstAvailCol});for(k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof matrix[k]==="undefined"){matrix[k]=[]}matrixrow=matrix[k];for(l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return cols+1};ts.isProcessing=function(table,toggle,$ths){table=$(table);var c=table[0].config,$h=$ths||table.find("."+ts.css.header);if(toggle){if(typeof $ths!=="undefined"&&c.sortList.length>0){$h=$h.filter(function(){return this.sortDisabled?false:ts.isValueInArray(parseFloat($(this).attr("data-column")),c.sortList)>=0})}table.add($h).addClass(ts.css.processing+" "+c.cssProcessing)}else{table.add($h).removeClass(ts.css.processing+" "+c.cssProcessing)}};ts.processTbody=function(table,$tb,getIt){table=$(table)[0];var holdr;if(getIt){table.isProcessing=true;$tb.before('<span class="tablesorter-savemyplace"/>');holdr=$.fn.detach?$tb.detach():$tb.remove();return holdr}holdr=$(table).find("span.tablesorter-savemyplace");$tb.insertAfter(holdr);holdr.remove();table.isProcessing=false};ts.clearTableBody=function(table){$(table)[0].config.$tbodies.children().detach()};ts.bindEvents=function(table,$headers,core){table=$(table)[0];var downTime,c=table.config;if(core!==true){c.$extraHeaders=c.$extraHeaders?c.$extraHeaders.add($headers):$headers}$headers.find(c.selectorSort).add($headers.filter(c.selectorSort)).unbind("mousedown mouseup sort keyup ".split(" ").join(c.namespace+" ")).bind("mousedown mouseup sort keyup ".split(" ").join(c.namespace+" "),function(e,external){var cell,type=e.type;if((e.which||e.button)!==1&&!/sort|keyup/.test(type)||type==="keyup"&&e.which!==13){return}if(type==="mouseup"&&external!==true&&(new Date).getTime()-downTime>250){return}if(type==="mousedown"){downTime=(new Date).getTime();return/(input|select|button|textarea)/i.test(e.target.tagName)?"":!c.cancelSelection}if(c.delayInit&&isEmptyObject(c.cache)){buildCache(table)}cell=$.fn.closest?$(this).closest("th, td")[0]:/TH|TD/.test(this.tagName)?this:$(this).parents("th, td")[0];cell=c.$headers[$headers.index(cell)];if(!cell.sortDisabled){initSort(table,cell,e)}});if(c.cancelSelection){$headers.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}};ts.restoreHeaders=function(table){var c=$(table)[0].config;c.$table.find(c.selectorHeaders).each(function(i){if($(this).find("."+ts.css.headerIn).length){$(this).html(c.headerContent[i])}})};ts.destroy=function(table,removeClasses,callback){table=$(table)[0];if(!table.hasInitialized){return}ts.refreshWidgets(table,true,true);var $t=$(table),c=table.config,$h=$t.find("thead:first"),$r=$h.find("tr."+ts.css.headerRow).removeClass(ts.css.headerRow+" "+c.cssHeaderRow),$f=$t.find("tfoot:first > tr").children("th, td");if(removeClasses===false&&$.inArray("uitheme",c.widgets)>=0){$t.trigger("applyWidgetId",["uitheme"]);$t.trigger("applyWidgetId",["zebra"])}$h.find("tr").not($r).remove();$t.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(c.namespace+" "));c.$headers.add($f).removeClass([ts.css.header,c.cssHeader,c.cssAsc,c.cssDesc,ts.css.sortAsc,ts.css.sortDesc,ts.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true");$r.find(c.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(c.namespace+" "));ts.restoreHeaders(table);$t.toggleClass(ts.css.table+" "+c.tableClass+" tablesorter-"+c.theme,removeClasses===false);table.hasInitialized=false;delete table.config.cache;if(typeof callback==="function"){callback(table)}};ts.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i};ts.sortNatural=function(a,b){if(a===b){return 0}var xN,xD,yN,yD,xF,yF,i,mx,r=ts.regex;if(r.hex.test(b)){xD=parseInt(a.match(r.hex),16);yD=parseInt(b.match(r.hex),16);if(xD<yD){return-1}if(xD>yD){return 1}}xN=a.replace(r.chunk,"\\0$1\\0").replace(r.chunks,"").split("\\0");yN=b.replace(r.chunk,"\\0$1\\0").replace(r.chunks,"").split("\\0");mx=Math.max(xN.length,yN.length);for(i=0;i<mx;i++){xF=isNaN(xN[i])?xN[i]||0:parseFloat(xN[i])||0;yF=isNaN(yN[i])?yN[i]||0:parseFloat(yN[i])||0;if(isNaN(xF)!==isNaN(yF)){return isNaN(xF)?1:-1}if(typeof xF!==typeof yF){xF+="";yF+=""}if(xF<yF){return-1}if(xF>yF){return 1}}return 0};ts.sortNaturalAsc=function(a,b,col,table,c){if(a===b){return 0}var e=c.string[c.empties[col]||c.emptyTo];if(a===""&&e!==0){return typeof e==="boolean"?e?-1:1:-e||-1}if(b===""&&e!==0){return typeof e==="boolean"?e?1:-1:e||1}return ts.sortNatural(a,b)};ts.sortNaturalDesc=function(a,b,col,table,c){if(a===b){return 0}var e=c.string[c.empties[col]||c.emptyTo];if(a===""&&e!==0){return typeof e==="boolean"?e?-1:1:e||1}if(b===""&&e!==0){return typeof e==="boolean"?e?1:-1:-e||-1}return ts.sortNatural(b,a)};ts.sortText=function(a,b){return a>b?1:a<b?-1:0};ts.getTextValue=function(a,num,mx){if(mx){var i,l=a?a.length:0,n=mx+num;for(i=0;i<l;i++){n+=a.charCodeAt(i)}return num*n}return 0};ts.sortNumericAsc=function(a,b,num,mx,col,table){if(a===b){return 0}var c=table.config,e=c.string[c.empties[col]||c.emptyTo];if(a===""&&e!==0){return typeof e==="boolean"?e?-1:1:-e||-1}if(b===""&&e!==0){return typeof e==="boolean"?e?1:-1:e||1}if(isNaN(a)){a=ts.getTextValue(a,num,mx)}if(isNaN(b)){b=ts.getTextValue(b,num,mx)}return a-b};ts.sortNumericDesc=function(a,b,num,mx,col,table){if(a===b){return 0}var c=table.config,e=c.string[c.empties[col]||c.emptyTo];if(a===""&&e!==0){return typeof e==="boolean"?e?-1:1:e||1}if(b===""&&e!==0){return typeof e==="boolean"?e?1:-1:-e||-1}if(isNaN(a)){a=ts.getTextValue(a,num,mx)}if(isNaN(b)){b=ts.getTextValue(b,num,mx)}return b-a};ts.sortNumeric=function(a,b){return a-b};ts.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"};ts.replaceAccents=function(s){var a,acc="[",eq=ts.characterEquivalents;if(!ts.characterRegex){ts.characterRegexArray={};for(a in eq){if(typeof a==="string"){acc+=eq[a];ts.characterRegexArray[a]=new RegExp("["+eq[a]+"]","g")}}ts.characterRegex=new RegExp(acc+"]")}if(ts.characterRegex.test(s)){for(a in eq){if(typeof a==="string"){s=s.replace(ts.characterRegexArray[a],a)}}}return s};ts.isValueInArray=function(column,arry){var indx,len=arry.length;for(indx=0;indx<len;indx++){if(arry[indx][0]===column){return indx}}return-1};ts.addParser=function(parser){var i,l=ts.parsers.length,a=true;for(i=0;i<l;i++){if(ts.parsers[i].id.toLowerCase()===parser.id.toLowerCase()){a=false}}if(a){ts.parsers.push(parser)}};ts.getParserById=function(name){if(name=="false"){return false}var i,l=ts.parsers.length;for(i=0;i<l;i++){if(ts.parsers[i].id.toLowerCase()===name.toString().toLowerCase()){return ts.parsers[i]}}return false};ts.addWidget=function(widget){ts.widgets.push(widget)};ts.hasWidget=function(table,name){table=$(table);return table.length&&table[0].config&&table[0].config.widgetInit[name]||false};ts.getWidgetById=function(name){var i,w,l=ts.widgets.length;for(i=0;i<l;i++){w=ts.widgets[i];if(w&&w.hasOwnProperty("id")&&w.id.toLowerCase()===name.toLowerCase()){return w}}};ts.applyWidget=function(table,init){table=$(table)[0];var c=table.config,wo=c.widgetOptions,widgets=[],time,w,wd;if(init!==false&&table.hasInitialized&&(table.isApplyingWidgets||table.isUpdating)){return}if(c.debug){time=new Date}if(c.widgets.length){table.isApplyingWidgets=true;c.widgets=$.grep(c.widgets,function(v,k){return $.inArray(v,c.widgets)===k});$.each(c.widgets||[],function(i,n){wd=ts.getWidgetById(n);if(wd&&wd.id){if(!wd.priority){wd.priority=10}widgets[i]=wd}});widgets.sort(function(a,b){return a.priority<b.priority?-1:a.priority===b.priority?0:1});$.each(widgets,function(i,w){if(w){if(init||!c.widgetInit[w.id]){c.widgetInit[w.id]=true;if(w.hasOwnProperty("options")){wo=table.config.widgetOptions=$.extend(true,{},w.options,wo)}if(w.hasOwnProperty("init")){w.init(table,w,c,wo)}}if(!init&&w.hasOwnProperty("format")){w.format(table,c,wo,false)}}})}setTimeout(function(){table.isApplyingWidgets=false},0);if(c.debug){w=c.widgets.length;benchmark("Completed "+(init===true?"initializing ":"applying ")+w+" widget"+(w!==1?"s":""),time)}};ts.refreshWidgets=function(table,doAll,dontapply){table=$(table)[0];var i,c=table.config,cw=c.widgets,w=ts.widgets,l=w.length;for(i=0;i<l;i++){if(w[i]&&w[i].id&&(doAll||$.inArray(w[i].id,cw)<0)){if(c.debug){log('Refeshing widgets: Removing "'+w[i].id+'"')}if(w[i].hasOwnProperty("remove")&&c.widgetInit[w[i].id]){w[i].remove(table,c,c.widgetOptions);c.widgetInit[w[i].id]=false}}}if(dontapply!==true){ts.applyWidget(table,doAll)}};ts.getData=function(h,ch,key){var val="",$h=$(h),m,cl;if(!$h.length){return""}m=$.metadata?$h.metadata():false;
cl=" "+($h.attr("class")||"");if(typeof $h.data(key)!=="undefined"||typeof $h.data(key.toLowerCase())!=="undefined"){val+=$h.data(key)||$h.data(key.toLowerCase())}else if(m&&typeof m[key]!=="undefined"){val+=m[key]}else if(ch&&typeof ch[key]!=="undefined"){val+=ch[key]}else if(cl!==" "&&cl.match(" "+key+"-")){val=cl.match(new RegExp("\\s"+key+"-([\\w-]+)"))[1]||""}return $.trim(val)};ts.formatFloat=function(s,table){if(typeof s!=="string"||s===""){return s}var i,t=table&&table.config?table.config.usNumberFormat!==false:typeof table!=="undefined"?table:true;if(t){s=s.replace(/,/g,"")}else{s=s.replace(/[\s|\.]/g,"").replace(/,/g,".")}if(/^\s*\([.\d]+\)/.test(s)){s=s.replace(/^\s*\(([.\d]+)\)/,"-$1")}i=parseFloat(s);return isNaN(i)?$.trim(s):i};ts.isDigit=function(s){return isNaN(s)?/^[\-+(]?\d+[)]?$/.test(s.toString().replace(/[,.'"\s]/g,"")):true}}});var ts=$.tablesorter;$.fn.extend({tablesorter:ts.construct});ts.addParser({id:"no-parser",is:function(){return false},format:function(){return""},type:"text"});ts.addParser({id:"text",is:function(){return true},format:function(s,table){var c=table.config;if(s){s=$.trim(c.ignoreCase?s.toLocaleLowerCase():s);s=c.sortLocaleCompare?ts.replaceAccents(s):s}return s},type:"text"});ts.addParser({id:"digit",is:function(s){return ts.isDigit(s)},format:function(s,table){var n=ts.formatFloat((s||"").replace(/[^\w,. \-()]/g,""),table);return s&&typeof n==="number"?n:s?$.trim(s&&table.config.ignoreCase?s.toLocaleLowerCase():s):s},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((s||"").replace(/[+\-,. ]/g,""))},format:function(s,table){var n=ts.formatFloat((s||"").replace(/[^\w,. \-()]/g,""),table);return s&&typeof n==="number"?n:s?$.trim(s&&table.config.ignoreCase?s.toLocaleLowerCase():s):s},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(s)},format:function(s,table){var i,a=s?s.split("."):"",r="",l=a.length;for(i=0;i<l;i++){r+=("00"+a[i]).slice(-3)}return s?ts.formatFloat(r,table):s},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\//.test(s)},format:function(s){return s?$.trim(s.replace(/(https?|ftp|file):\/\//,"")):s},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(s)},format:function(s,table){return s?ts.formatFloat(s!==""?new Date(s.replace(/-/g,"/")).getTime()||s:"",table):s},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/(\d\s*?%|%\s*?\d)/.test(s)&&s.length<15},format:function(s,table){return s?ts.formatFloat(s.replace(/%/g,""),table):s},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(s)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(s)},format:function(s,table){return s?ts.formatFloat(new Date(s.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||s,table):s},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((s||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(s,table,cell,cellIndex){if(s){var c=table.config,ci=c.$headers.filter("[data-column="+cellIndex+"]:last"),format=ci.length&&ci[0].dateFormat||ts.getData(ci,ts.getColumnData(table,c.headers,cellIndex),"dateFormat")||c.dateFormat;s=s.replace(/\s+/g," ").replace(/[\-.,]/g,"/");if(format==="mmddyyyy"){s=s.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2")}else if(format==="ddmmyyyy"){s=s.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1")}else if(format==="yyyymmdd"){s=s.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")}}return s?ts.formatFloat(new Date(s).getTime()||s,table):s},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(s)},format:function(s,table){return s?ts.formatFloat(new Date("2000/01/01 "+s.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||s,table):s},type:"numeric"});ts.addParser({id:"metadata",is:function(){return false},format:function(s,table,cell){var c=table.config,p=!c.parserMetadataName?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",priority:90,format:function(table,c,wo){var $tb,$tv,$tr,row,even,time,k,l,child=new RegExp(c.cssChildRow,"i"),b=c.$tbodies;if(c.debug){time=new Date}for(k=0;k<b.length;k++){$tb=b.eq(k);l=$tb.children("tr").length;if(l>1){row=0;$tv=$tb.children("tr:visible").not(c.selectorRemove);$tv.each(function(){$tr=$(this);if(!child.test(this.className)){row++}even=row%2===0;$tr.removeClass(wo.zebra[even?1:0]).addClass(wo.zebra[even?0:1])})}}if(c.debug){ts.benchmark("Applying Zebra widget",time)}},remove:function(table,c,wo){var k,$tb,b=c.$tbodies,rmv=(wo.zebra||["even","odd"]).join(" ");for(k=0;k<b.length;k++){$tb=$.tablesorter.processTbody(table,b.eq(k),true);$tb.children().removeClass(rmv);$.tablesorter.processTbody(table,$tb,false)}}})}(jQuery);!function($){"use strict";var ts=$.tablesorter=$.tablesorter||{};ts.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",sortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}};$.extend(ts.css,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",wrapper:"tablesorter-wrapper",resizer:"tablesorter-resizer",sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible"});ts.storage=function(table,key,value,options){table=$(table)[0];var cookieIndex,cookies,date,hasLocalStorage=false,values={},c=table.config,$table=$(table),id=options&&options.id||$table.attr(options&&options.group||"data-table-group")||table.id||$(".tablesorter").index($table),url=options&&options.url||$table.attr(options&&options.page||"data-table-page")||c&&c.fixedUrl||window.location.pathname;if("localStorage"in window){try{window.localStorage.setItem("_tmptest","temp");hasLocalStorage=true;window.localStorage.removeItem("_tmptest")}catch(error){}}if($.parseJSON){if(hasLocalStorage){values=$.parseJSON(localStorage[key]||"{}")}else{cookies=document.cookie.split(/[;\s|=]/);cookieIndex=$.inArray(key,cookies)+1;values=cookieIndex!==0?$.parseJSON(cookies[cookieIndex]||"{}"):{}}}if((value||value==="")&&window.JSON&&JSON.hasOwnProperty("stringify")){if(!values[url]){values[url]={}}values[url][id]=value;if(hasLocalStorage){localStorage[key]=JSON.stringify(values)}else{date=new Date;date.setTime(date.getTime()+31536e6);document.cookie=key+"="+JSON.stringify(values).replace(/\"/g,'"')+"; expires="+date.toGMTString()+"; path=/"}}else{return values&&values[url]?values[url][id]:""}};ts.addHeaderResizeEvent=function(table,disable,settings){table=$(table)[0];var headers,defaults={timer:250},options=$.extend({},defaults,settings),c=table.config,wo=c.widgetOptions,checkSizes=function(triggerEvent){wo.resize_flag=true;headers=[];c.$headers.each(function(){var $header=$(this),sizes=$header.data("savedSizes")||[0,0],width=this.offsetWidth,height=this.offsetHeight;if(width!==sizes[0]||height!==sizes[1]){$header.data("savedSizes",[width,height]);headers.push(this)}});if(headers.length&&triggerEvent!==false){c.$table.trigger("resize",[headers])}wo.resize_flag=false};checkSizes(false);clearInterval(wo.resize_timer);if(disable){wo.resize_flag=false;return false}wo.resize_timer=setInterval(function(){if(wo.resize_flag){return}checkSizes()},options.timer)};ts.addWidget({id:"uitheme",priority:10,format:function(table,c,wo){var i,time,classes,$header,$icon,$tfoot,$h,themesAll=ts.themes,$table=c.$table,$headers=c.$headers,theme=c.theme||"jui",themes=themesAll[theme]||themesAll.jui,remove=themes.sortNone+" "+themes.sortDesc+" "+themes.sortAsc;if(c.debug){time=new Date}if(!$table.hasClass("tablesorter-"+theme)||c.theme===theme||!table.hasInitialized){if(themes.even!==""){wo.zebra[0]+=" "+themes.even}if(themes.odd!==""){wo.zebra[1]+=" "+themes.odd}$table.find("caption").addClass(themes.caption);$tfoot=$table.removeClass(c.theme===""?"":"tablesorter-"+c.theme).addClass("tablesorter-"+theme+" "+themes.table).find("tfoot");if($tfoot.length){$tfoot.find("tr").addClass(themes.footerRow).children("th, td").addClass(themes.footerCells)}$headers.addClass(themes.header).not(".sorter-false").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(event){$(this)[event.type==="mouseenter"?"addClass":"removeClass"](themes.hover)});if(!$headers.find("."+ts.css.wrapper).length){$headers.wrapInner('<div class="'+ts.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}if(c.cssIcon){$headers.find("."+ts.css.icon).addClass(themes.icons)}if($table.hasClass("hasFilters")){$headers.find("."+ts.css.filterRow).addClass(themes.filterRow)}}for(i=0;i<c.columns;i++){$header=c.$headers.add(c.$extraHeaders).filter('[data-column="'+i+'"]');$icon=ts.css.icon?$header.find("."+ts.css.icon):$header;$h=c.$headers.filter('[data-column="'+i+'"]:last');if($h.length){if($h[0].sortDisabled){$header.removeClass(remove);$icon.removeClass(remove+" "+themes.icons)}else{classes=$header.hasClass(ts.css.sortAsc)?themes.sortAsc:$header.hasClass(ts.css.sortDesc)?themes.sortDesc:$header.hasClass(ts.css.header)?themes.sortNone:"";$header[classes===themes.sortNone?"removeClass":"addClass"](themes.active);$icon.removeClass(remove).addClass(classes)}}}if(c.debug){ts.benchmark("Applying "+theme+" theme",time)}},remove:function(table,c,wo){var $table=c.$table,theme=c.theme||"jui",themes=ts.themes[theme]||ts.themes.jui,$headers=$table.children("thead").children(),remove=themes.sortNone+" "+themes.sortDesc+" "+themes.sortAsc;$table.removeClass("tablesorter-"+theme+" "+themes.table).find(ts.css.header).removeClass(themes.header);$headers.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(themes.hover+" "+remove+" "+themes.active).find("."+ts.css.filterRow).removeClass(themes.filterRow);$headers.find("."+ts.css.icon).removeClass(themes.icons)}});ts.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(table,c,wo){var time,$tbody,tbodyIndex,$rows,rows,$row,$cells,remove,indx,$table=c.$table,$tbodies=c.$tbodies,sortList=c.sortList,len=sortList.length,css=wo&&wo.columns||["primary","secondary","tertiary"],last=css.length-1;remove=css.join(" ");if(c.debug){time=new Date}for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$rows=$tbody.children("tr");$rows.each(function(){$row=$(this);if(this.style.display!=="none"){$cells=$row.children().removeClass(remove);if(sortList&&sortList[0]){$cells.eq(sortList[0][0]).addClass(css[0]);if(len>1){for(indx=1;indx<len;indx++){$cells.eq(sortList[indx][0]).addClass(css[indx]||css[last])}}}}});ts.processTbody(table,$tbody,false)}rows=wo.columns_thead!==false?["thead tr"]:[];if(wo.columns_tfoot!==false){rows.push("tfoot tr")}if(rows.length){$rows=$table.find(rows.join(",")).children().removeClass(remove);if(len){for(indx=0;indx<len;indx++){$rows.filter('[data-column="'+sortList[indx][0]+'"]').addClass(css[indx]||css[last])}}}if(c.debug){ts.benchmark("Applying Columns widget",time)}},remove:function(table,c,wo){var tbodyIndex,$tbody,$tbodies=c.$tbodies,remove=(wo.columns||["primary","secondary","tertiary"]).join(" ");c.$headers.removeClass(remove);c.$table.children("tfoot").children("tr").children("th, td").removeClass(remove);for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children("tr").each(function(){$(this).children().removeClass(remove)});ts.processTbody(table,$tbody,false)}}});ts.addWidget({id:"filter",priority:50,options:{filter_childRows:false,filter_columnFilters:true,filter_cssFilter:"",filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:true,filter_hideFilters:false,filter_ignoreCase:true,filter_liveSearch:true,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:false,filter_searchDelay:300,filter_searchFiltered:true,filter_selectSource:null,filter_startsWith:false,filter_useParsedData:false,filter_serversideFiltering:false,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(table,c,wo){if(!c.$table.hasClass("hasFilters")){ts.filter.init(table,c,wo)}},remove:function(table,c,wo){var tbodyIndex,$tbody,$table=c.$table,$tbodies=c.$tbodies;$table.removeClass("hasFilters").unbind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(c.namespace+"filter ")).find("."+ts.css.filterRow).remove();for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children().removeClass(wo.filter_filteredRow).show();ts.processTbody(table,$tbody,false)}if(wo.filter_reset){$(document).undelegate(wo.filter_reset,"click.tsfilter")}}});ts.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=]+)|([\"|\'|=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g},types:{regex:function(filter,iFilter,exact,iExact){if(ts.filter.regex.regex.test(iFilter)){var matches,regex=ts.filter.regex.regex.exec(iFilter);try{matches=new RegExp(regex[1],regex[2]).test(iExact)}catch(error){matches=false}return matches}return null},operators:function(filter,iFilter,exact,iExact,cached,index,table,wo,parsed){if(/^[<>]=?/.test(iFilter)){var cachedValue,result,c=table.config,query=ts.formatFloat(iFilter.replace(ts.filter.regex.operators,""),table),parser=c.parsers[index],savedSearch=query;if(parsed[index]||parser.type==="numeric"){result=ts.filter.parseFilter(table,$.trim(""+iFilter.replace(ts.filter.regex.operators,"")),index,parsed[index],true);query=typeof result==="number"&&result!==""&&!isNaN(result)?result:query}cachedValue=(parsed[index]||parser.type==="numeric")&&!isNaN(query)&&typeof cached!=="undefined"?cached:isNaN(iExact)?ts.formatFloat(iExact.replace(ts.filter.regex.nondigit,""),table):ts.formatFloat(iExact,table);if(/>/.test(iFilter)){result=/>=/.test(iFilter)?cachedValue>=query:cachedValue>query}if(/</.test(iFilter)){result=/<=/.test(iFilter)?cachedValue<=query:cachedValue<query}if(!result&&savedSearch===""){result=true}return result}return null},notMatch:function(filter,iFilter,exact,iExact,cached,index,table,wo,parsed){if(/^\!/.test(iFilter)){iFilter=ts.filter.parseFilter(table,iFilter.replace("!",""),index,parsed[index]);if(ts.filter.regex.exact.test(iFilter)){iFilter=iFilter.replace(ts.filter.regex.exact,"");return iFilter===""?true:$.trim(iFilter)!==iExact}else{var indx=iExact.search($.trim(iFilter));return iFilter===""?true:!(wo.filter_startsWith?indx===0:indx>=0)}}return null},exact:function(filter,iFilter,exact,iExact,cached,index,table,wo,parsed,rowArray){if(ts.filter.regex.exact.test(iFilter)){var fltr=ts.filter.parseFilter(table,iFilter.replace(ts.filter.regex.exact,""),index,parsed[index]);return rowArray?$.inArray(fltr,rowArray)>=0:fltr==iExact}return null},and:function(filter,iFilter,exact,iExact,cached,index,table,wo,parsed){if(ts.filter.regex.andTest.test(filter)){var query=iFilter.split(ts.filter.regex.andSplit),result=iExact.search($.trim(ts.filter.parseFilter(table,query[0],index,parsed[index])))>=0,indx=query.length-1;while(result&&indx){result=result&&iExact.search($.trim(ts.filter.parseFilter(table,query[indx],index,parsed[index])))>=0;indx--}return result}return null},range:function(filter,iFilter,exact,iExact,cached,index,table,wo,parsed){if(ts.filter.regex.toTest.test(iFilter)){var result,tmp,c=table.config,query=iFilter.split(ts.filter.regex.toSplit),range1=ts.formatFloat(ts.filter.parseFilter(table,query[0].replace(ts.filter.regex.nondigit,""),index,parsed[index]),table),range2=ts.formatFloat(ts.filter.parseFilter(table,query[1].replace(ts.filter.regex.nondigit,""),index,parsed[index]),table);if(parsed[index]||c.parsers[index].type==="numeric"){result=c.parsers[index].format(""+query[0],table,c.$headers.eq(index),index);range1=result!==""&&!isNaN(result)?result:range1;result=c.parsers[index].format(""+query[1],table,c.$headers.eq(index),index);range2=result!==""&&!isNaN(result)?result:range2}result=(parsed[index]||c.parsers[index].type==="numeric")&&!isNaN(range1)&&!isNaN(range2)?cached:isNaN(iExact)?ts.formatFloat(iExact.replace(ts.filter.regex.nondigit,""),table):ts.formatFloat(iExact,table);if(range1>range2){tmp=range1;range1=range2;range2=tmp}return result>=range1&&result<=range2||range1===""||range2===""}return null},wild:function(filter,iFilter,exact,iExact,cached,index,table,wo,parsed,rowArray){if(/[\?|\*]/.test(iFilter)||ts.filter.regex.orReplace.test(filter)){var c=table.config,query=ts.filter.parseFilter(table,iFilter.replace(ts.filter.regex.orReplace,"|"),index,parsed[index]);if(!c.$headers.filter('[data-column="'+index+'"]:last').hasClass("filter-match")&&/\|/.test(query)){query=$.isArray(rowArray)?"("+query+")":"^("+query+")$"}return new RegExp(query.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(iExact)}return null},fuzzy:function(filter,iFilter,exact,iExact,cached,index,table,wo,parsed){if(/^~/.test(iFilter)){var indx,patternIndx=0,len=iExact.length,pattern=ts.filter.parseFilter(table,iFilter.slice(1),index,parsed[index]);for(indx=0;indx<len;indx++){if(iExact[indx]===pattern[patternIndx]){patternIndx+=1}}if(patternIndx===pattern.length){return true}return false}return null}},init:function(table,c,wo){ts.language=$.extend(true,{},{to:"to",or:"or",and:"and"},ts.language);var options,string,txt,$header,column,filters,val,time,fxn,noSelect,regex=ts.filter.regex;if(c.debug){time=new Date}c.$table.addClass("hasFilters");wo.searchTimer=null;wo.filter_initTimer=null;wo.filter_formatterCount=0;wo.filter_formatterInit=[];$.extend(regex,{child:new RegExp(c.cssChildRow),filtered:new RegExp(wo.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+ts.language.or+"|-|"+ts.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+ts.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+ts.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+ts.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+ts.language.and+"|&&)\\s+)","gi"),orReplace:new RegExp("\\s+("+ts.language.or+")\\s+","gi")});if(wo.filter_columnFilters!==false&&c.$headers.filter(".filter-false, .parser-false").length!==c.$headers.length){ts.filter.buildRow(table,c,wo)}c.$table.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(c.namespace+"filter "),function(event,filter){c.$table.find("."+ts.css.filterRow).toggle(!(wo.filter_hideEmpty&&$.isEmptyObject(c.cache)&&!(c.delayInit&&event.type==="appendCache")));if(!/(search|filter)/.test(event.type)){event.stopPropagation();ts.filter.buildDefault(table,true)}if(event.type==="filterReset"){c.$table.find("."+ts.css.filter).add(wo.filter_$externalFilters).val("");ts.filter.searching(table,[])}else if(event.type==="filterEnd"){ts.filter.buildDefault(table,true)}else{filter=event.type==="search"?filter:event.type==="updateComplete"?c.$table.data("lastSearch"):"";if(/(update|add)/.test(event.type)&&event.type!=="updateComplete"){c.lastCombinedFilter=null;c.lastSearch=[]}ts.filter.searching(table,filter,true)}return false});if(wo.filter_reset){if(wo.filter_reset instanceof $){wo.filter_reset.click(function(){c.$table.trigger("filterReset")})}else if($(wo.filter_reset).length){$(document).undelegate(wo.filter_reset,"click.tsfilter").delegate(wo.filter_reset,"click.tsfilter",function(){c.$table.trigger("filterReset")})}}if(wo.filter_functions){for(column=0;column<c.columns;column++){fxn=ts.getColumnData(table,wo.filter_functions,column);if(fxn){$header=c.$headers.filter('[data-column="'+column+'"]:last').removeClass("filter-select");noSelect=!($header.hasClass("filter-false")||$header.hasClass("parser-false"));options="";if(fxn===true&&noSelect){ts.filter.buildSelect(table,column)}else if(typeof fxn==="object"&&noSelect){for(string in fxn){if(typeof string==="string"){options+=options===""?'<option value="">'+($header.data("placeholder")||$header.attr("data-placeholder")||wo.filter_placeholder.select||"")+"</option>":"";val=string;txt=string;if(string.indexOf(wo.filter_selectSourceSeparator)>=0){val=string.split(wo.filter_selectSourceSeparator);txt=val[1];val=val[0]}options+="<option "+(txt===val?"":'data-function-name="'+string+'" ')+'value="'+val+'">'+txt+"</option>"}}c.$table.find("thead").find("select."+ts.css.filter+'[data-column="'+column+'"]').append(options)}}}}ts.filter.buildDefault(table,true);ts.filter.bindSearch(table,c.$table.find("."+ts.css.filter),true);if(wo.filter_external){ts.filter.bindSearch(table,wo.filter_external)}if(wo.filter_hideFilters){ts.filter.hideFilters(table,c)}if(c.showProcessing){c.$table.bind("filterStart"+c.namespace+"filter filterEnd"+c.namespace+"filter",function(event,columns){$header=columns?c.$table.find("."+ts.css.header).filter("[data-column]").filter(function(){return columns[$(this).data("column")]!==""}):"";ts.isProcessing(table,event.type==="filterStart",columns?$header:"")})}c.filteredRows=c.totalRows;if(c.debug){ts.benchmark("Applying Filter widget",time)}c.$table.bind("tablesorter-initialized pagerInitialized",function(){var wo=this.config.widgetOptions;filters=ts.filter.setDefaults(table,c,wo)||[];if(filters.length){if(!(c.delayInit&&filters.join("")==="")){ts.setFilters(table,filters,true)}}c.$table.trigger("filterFomatterUpdate");setTimeout(function(){if(!wo.filter_initialized){ts.filter.filterInitComplete(c)}},100)});if(c.pager&&c.pager.initialized&&!wo.filter_initialized){c.$table.trigger("filterFomatterUpdate");setTimeout(function(){ts.filter.filterInitComplete(c)},100)}},formatterUpdated:function($cell,column){var wo=$cell.closest("table")[0].config.widgetOptions;if(!wo.filter_initialized){wo.filter_formatterInit[column]=1}},filterInitComplete:function(c){var wo=c.widgetOptions,count=0;$.each(wo.filter_formatterInit,function(i,val){if(val===1){count++}});clearTimeout(wo.filter_initTimer);if(!wo.filter_initialized&&count===wo.filter_formatterCount){wo.filter_initialized=true;c.$table.trigger("filterInit",c)}else if(!wo.filter_initialized){wo.filter_initTimer=setTimeout(function(){wo.filter_initialized=true;c.$table.trigger("filterInit",c)},500)}},setDefaults:function(table,c,wo){var isArray,saved,indx,filters=ts.getFilters(table)||[];if(wo.filter_saveFilters&&ts.storage){saved=ts.storage(table,"tablesorter-filters")||[];isArray=$.isArray(saved);if(!(isArray&&saved.join("")===""||!isArray)){filters=saved}}if(filters.join("")===""){for(indx=0;indx<c.columns;indx++){filters[indx]=c.$headers.filter('[data-column="'+indx+'"]:last').attr(wo.filter_defaultAttrib)||filters[indx]}}c.$table.data("lastSearch",filters);return filters},parseFilter:function(table,filter,column,parsed,forceParse){var c=table.config;return forceParse||parsed?c.parsers[column].format(filter,table,[],column):filter},buildRow:function(table,c,wo){var col,column,$header,buildSelect,disabled,name,ffxn,columns=c.columns,buildFilter='<tr role="row" class="'+ts.css.filterRow+'">';for(column=0;column<columns;column++){buildFilter+="<td></td>"}c.$filters=$(buildFilter+="</tr>").appendTo(c.$table.children("thead").eq(0)).find("td");for(column=0;column<columns;column++){disabled=false;$header=c.$headers.filter('[data-column="'+column+'"]:last');ffxn=ts.getColumnData(table,wo.filter_functions,column);buildSelect=wo.filter_functions&&ffxn&&typeof ffxn!=="function"||$header.hasClass("filter-select");col=ts.getColumnData(table,c.headers,column);disabled=ts.getData($header[0],col,"filter")==="false"||ts.getData($header[0],col,"parser")==="false";if(buildSelect){buildFilter=$("<select>").appendTo(c.$filters.eq(column))}else{ffxn=ts.getColumnData(table,wo.filter_formatter,column);if(ffxn){wo.filter_formatterCount++;buildFilter=ffxn(c.$filters.eq(column),column);if(buildFilter&&buildFilter.length===0){buildFilter=c.$filters.eq(column).children("input")}if(buildFilter&&(buildFilter.parent().length===0||buildFilter.parent().length&&buildFilter.parent()[0]!==c.$filters[column])){c.$filters.eq(column).append(buildFilter)}}else{buildFilter=$('<input type="search">').appendTo(c.$filters.eq(column))}if(buildFilter){buildFilter.attr("placeholder",$header.data("placeholder")||$header.attr("data-placeholder")||wo.filter_placeholder.search||"")}}if(buildFilter){name=($.isArray(wo.filter_cssFilter)?typeof wo.filter_cssFilter[column]!=="undefined"?wo.filter_cssFilter[column]||"":"":wo.filter_cssFilter)||"";buildFilter.addClass(ts.css.filter+" "+name).attr("data-column",column);if(disabled){buildFilter.attr("placeholder","").addClass("disabled")[0].disabled=true}}}},bindSearch:function(table,$el,internal){table=$(table)[0];$el=$($el);if(!$el.length){return}var c=table.config,wo=c.widgetOptions,$ext=wo.filter_$externalFilters;if(internal!==true){wo.filter_$anyMatch=$el.filter('[data-column="all"]');if($ext&&$ext.length){wo.filter_$externalFilters=wo.filter_$externalFilters.add($el)}else{wo.filter_$externalFilters=$el}ts.setFilters(table,c.$table.data("lastSearch")||[],internal===false)}$el.attr("data-lastSearchTime",(new Date).getTime()).unbind("keypress keyup search change ".split(" ").join(c.namespace+"filter ")).bind("keyup"+c.namespace+"filter",function(event){$(this).attr("data-lastSearchTime",(new Date).getTime());if(event.which===27){this.value=""}else if(wo.filter_liveSearch===false){return}else if(this.value!==""&&(typeof wo.filter_liveSearch==="number"&&this.value.length<wo.filter_liveSearch||event.which!==13&&event.which!==8&&(event.which<32||event.which>=37&&event.which<=40))){return}ts.filter.searching(table,true,true)}).bind("search change keypress ".split(" ").join(c.namespace+"filter "),function(event){var column=$(this).data("column");if(event.which===13||event.type==="search"||event.type==="change"&&this.value!==c.lastSearch[column]){event.preventDefault();$(this).attr("data-lastSearchTime",(new Date).getTime());ts.filter.searching(table,false,true)}})},searching:function(table,filter,skipFirst){var wo=table.config.widgetOptions;clearTimeout(wo.searchTimer);if(typeof filter==="undefined"||filter===true){wo.searchTimer=setTimeout(function(){ts.filter.checkFilters(table,filter,skipFirst)},wo.filter_liveSearch?wo.filter_searchDelay:10)}else{ts.filter.checkFilters(table,filter,skipFirst)}},checkFilters:function(table,filter,skipFirst){var c=table.config,wo=c.widgetOptions,filterArray=$.isArray(filter),filters=filterArray?filter:ts.getFilters(table,true),combinedFilters=(filters||[]).join("");if($.isEmptyObject(c.cache)){if(c.delayInit&&c.pager&&c.pager.initialized){c.$table.trigger("updateCache",[function(){ts.filter.checkFilters(table,false,skipFirst)}])}return}if(filterArray){ts.setFilters(table,filters,false,skipFirst!==true);if(!wo.filter_initialized){c.lastCombinedFilter=""}}if(c.lastCombinedFilter===combinedFilters&&filter!==false){return}else if(filter===false){c.lastCombinedFilter=null;c.lastSearch=[]}if(wo.filter_initialized){c.$table.trigger("filterStart",[filters])}if(c.showProcessing){setTimeout(function(){ts.filter.findRows(table,filters,combinedFilters);return false},30)}else{ts.filter.findRows(table,filters,combinedFilters);return false}},hideFilters:function(table,c){var filterLink=$("[data-table="+c.$table.attr("id")+"]");if(filterLink.length!=0){c.$table.find(".tablesorter-filter-row").addClass("hideme");filterLink.on("click",function(){var tableHead=c.$table.find("thead .tablesorter-filter-row");tableHead.toggleClass("hideme");if(tableHead.hasClass("hideme")){$(this).find("a").text("Show Filters")}else{$(this).find("a").text("Hide Filters")}})}},findRows:function(table,filters,combinedFilters){if(table.config.lastCombinedFilter===combinedFilters){return}var cached,len,$rows,rowIndex,tbodyIndex,$tbody,$cells,columnIndex,childRow,childRowText,exact,iExact,iFilter,lastSearch,matches,result,notFiltered,searchFiltered,filterMatched,showRow,time,val,indx,anyMatch,iAnyMatch,rowArray,rowText,iRowText,rowCache,fxn,ffxn,regex=ts.filter.regex,c=table.config,wo=c.widgetOptions,columns=c.columns,$tbodies=c.$table.children("tbody"),anyMatchNotAllowedTypes=["range","notMatch","operators"],parsed=c.$headers.map(function(columnIndex){return c.parsers&&c.parsers[columnIndex]&&c.parsers[columnIndex].parsed||ts.getData&&ts.getData(c.$headers.filter('[data-column="'+columnIndex+'"]:last'),ts.getColumnData(table,c.headers,columnIndex),"filter")==="parsed"||$(this).hasClass("filter-parsed")}).get();if(c.debug){time=new Date}c.filteredRows=0;c.totalRows=0;for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){if($tbodies.eq(tbodyIndex).hasClass(c.cssInfoBlock||ts.css.info)){continue}$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);columnIndex=c.columns;$rows=$($.map(c.cache[tbodyIndex].normalized,function(el){return el[columnIndex].$row.get()}));if(combinedFilters===""||wo.filter_serversideFiltering){$rows.removeClass(wo.filter_filteredRow).not("."+c.cssChildRow).show()}else{$rows=$rows.not("."+c.cssChildRow);len=$rows.length;searchFiltered=wo.filter_searchFiltered;lastSearch=c.lastSearch||c.$table.data("lastSearch")||[];if(searchFiltered){for(indx=0;indx<columnIndex+1;indx++){val=filters[indx]||"";if(!searchFiltered){indx=columnIndex}searchFiltered=searchFiltered&&lastSearch.length&&val.indexOf(lastSearch[indx]||"")===0&&!regex.alreadyFiltered.test(val)&&!/[=\"\|!]/.test(val)&&!(/(>=?\s*-\d)/.test(val)||/(<=?\s*\d)/.test(val))&&!(val!==""&&c.$filters&&c.$filters.eq(indx).find("select").length&&!c.$headers.filter('[data-column="'+indx+'"]:last').hasClass("filter-match"))}}notFiltered=$rows.not("."+wo.filter_filteredRow).length;if(searchFiltered&&notFiltered===0){searchFiltered=false}if(c.debug){ts.log("Searching through "+(searchFiltered&&notFiltered<len?notFiltered:"all")+" rows")}if(wo.filter_$anyMatch&&wo.filter_$anyMatch.length||filters[c.columns]){anyMatch=wo.filter_$anyMatch&&wo.filter_$anyMatch.val()||filters[c.columns]||"";if(c.sortLocaleCompare){anyMatch=ts.replaceAccents(anyMatch)}iAnyMatch=anyMatch.toLowerCase()}for(rowIndex=0;rowIndex<len;rowIndex++){childRow=$rows[rowIndex].className;if(regex.child.test(childRow)||searchFiltered&&regex.filtered.test(childRow)){continue}showRow=true;childRow=$rows.eq(rowIndex).nextUntil("tr:not(."+c.cssChildRow+")");childRowText=childRow.length&&wo.filter_childRows?childRow.text():"";childRowText=wo.filter_ignoreCase?childRowText.toLocaleLowerCase():childRowText;$cells=$rows.eq(rowIndex).children();if(anyMatch){rowArray=$cells.map(function(i){var txt;if(parsed[i]){txt=c.cache[tbodyIndex].normalized[rowIndex][i]}else{txt=wo.filter_ignoreCase?$(this).text().toLowerCase():$(this).text();if(c.sortLocaleCompare){txt=ts.replaceAccents(txt)}}return txt}).get();rowText=rowArray.join(" ");iRowText=rowText.toLowerCase();rowCache=c.cache[tbodyIndex].normalized[rowIndex].slice(0,-1).join(" ");filterMatched=null;$.each(ts.filter.types,function(type,typeFunction){if($.inArray(type,anyMatchNotAllowedTypes)<0){matches=typeFunction(anyMatch,iAnyMatch,rowText,iRowText,rowCache,columns,table,wo,parsed,rowArray);if(matches!==null){filterMatched=matches;return false}}});if(filterMatched!==null){showRow=filterMatched}else{if(wo.filter_startsWith){showRow=false;columnIndex=columns;while(!showRow&&columnIndex>0){columnIndex--;showRow=showRow||rowArray[columnIndex].indexOf(iAnyMatch)===0}}else{showRow=(iRowText+childRowText).indexOf(iAnyMatch)>=0}}}for(columnIndex=0;columnIndex<columns;columnIndex++){if(filters[columnIndex]){cached=c.cache[tbodyIndex].normalized[rowIndex][columnIndex];if(wo.filter_useParsedData||parsed[columnIndex]){exact=cached}else{exact=$.trim($cells.eq(columnIndex).text());exact=c.sortLocaleCompare?ts.replaceAccents(exact):exact}iExact=!regex.type.test(typeof exact)&&wo.filter_ignoreCase?exact.toLocaleLowerCase():exact;result=showRow;ffxn=wo.filter_columnFilters?c.$filters.add(c.$externalFilters).filter('[data-column="'+columnIndex+'"]').find("select option:selected").attr("data-function-name")||"":"";filters[columnIndex]=c.sortLocaleCompare?ts.replaceAccents(filters[columnIndex]):filters[columnIndex];iFilter=wo.filter_ignoreCase?(filters[columnIndex]||"").toLocaleLowerCase():filters[columnIndex];fxn=ts.getColumnData(table,wo.filter_functions,columnIndex);if(fxn){if(fxn===true){result=c.$headers.filter('[data-column="'+columnIndex+'"]:last').hasClass("filter-match")?iExact.search(iFilter)>=0:filters[columnIndex]===exact}else if(typeof fxn==="function"){result=fxn(exact,cached,filters[columnIndex],columnIndex,$rows.eq(rowIndex))}else if(typeof fxn[ffxn||filters[columnIndex]]==="function"){result=fxn[ffxn||filters[columnIndex]](exact,cached,filters[columnIndex],columnIndex,$rows.eq(rowIndex))}}else{filterMatched=null;$.each(ts.filter.types,function(type,typeFunction){matches=typeFunction(filters[columnIndex],iFilter,exact,iExact,cached,columnIndex,table,wo,parsed);if(matches!==null){filterMatched=matches;return false}});if(filterMatched!==null){result=filterMatched}else{exact=(iExact+childRowText).indexOf(ts.filter.parseFilter(table,iFilter,columnIndex,parsed[columnIndex]));result=!wo.filter_startsWith&&exact>=0||wo.filter_startsWith&&exact===0}}showRow=result?showRow:false}}$rows.eq(rowIndex).toggle(showRow).toggleClass(wo.filter_filteredRow,!showRow);if(childRow.length){childRow.toggleClass(wo.filter_filteredRow,!showRow)}}}c.filteredRows+=$rows.not("."+wo.filter_filteredRow).length;c.totalRows+=$rows.length;ts.processTbody(table,$tbody,false)}c.lastCombinedFilter=combinedFilters;c.lastSearch=filters;c.$table.data("lastSearch",filters);if(wo.filter_saveFilters&&ts.storage){ts.storage(table,"tablesorter-filters",filters)}if(c.debug){ts.benchmark("Completed filter widget search",time)}if(wo.filter_initialized){c.$table.trigger("filterEnd",c)}setTimeout(function(){c.$table.trigger("applyWidgets")},0)},getOptionSource:function(table,column,onlyAvail){var cts,c=table.config,wo=c.widgetOptions,parsed=[],arry=false,source=wo.filter_selectSource,last=c.$table.data("lastSearch")||[],fxn=$.isFunction(source)?true:ts.getColumnData(table,source,column);if(onlyAvail&&last[column]!==""){onlyAvail=false}if(fxn===true){arry=source(table,column,onlyAvail)}else if(fxn instanceof $||$.type(fxn)==="string"&&fxn.indexOf("</option>")>=0){return fxn}else if($.isArray(fxn)){arry=fxn}else if($.type(source)==="object"&&fxn){arry=fxn(table,column,onlyAvail)}if(arry===false){arry=ts.filter.getOptions(table,column,onlyAvail)}arry=$.grep(arry,function(value,indx){return $.inArray(value,arry)===indx});if(c.$headers.filter('[data-column="'+column+'"]:last').hasClass("filter-select-nosort")){return arry}else{$.each(arry,function(i,v){parsed.push({t:v,p:c.parsers&&c.parsers[column].format(v,table,[],column)})});cts=c.textSorter||"";parsed.sort(function(a,b){var x=a.p.toString(),y=b.p.toString();if($.isFunction(cts)){return cts(x,y,true,column,table)}else if(typeof cts==="object"&&cts.hasOwnProperty(column)){return cts[column](x,y,true,column,table)}else if(ts.sortNatural){return ts.sortNatural(x,y)}return true});arry=[];$.each(parsed,function(i,v){arry.push(v.t)});return arry}},getOptions:function(table,column,onlyAvail){var rowIndex,tbodyIndex,len,row,cache,cell,c=table.config,wo=c.widgetOptions,$tbodies=c.$table.children("tbody"),arry=[];for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){if(!$tbodies.eq(tbodyIndex).hasClass(c.cssInfoBlock)){cache=c.cache[tbodyIndex];len=c.cache[tbodyIndex].normalized.length;for(rowIndex=0;rowIndex<len;rowIndex++){row=cache.row?cache.row[rowIndex]:cache.normalized[rowIndex][c.columns].$row[0];if(onlyAvail&&row.className.match(wo.filter_filteredRow)){continue}if(wo.filter_useParsedData||c.parsers[column].parsed||c.$headers.filter('[data-column="'+column+'"]:last').hasClass("filter-parsed")){arry.push(""+cache.normalized[rowIndex][column])}else{cell=row.cells[column];if(cell){arry.push($.trim(cell.textContent||cell.innerText||$(cell).text()))}}}}}return arry},buildSelect:function(table,column,arry,updating,onlyAvail){table=$(table)[0];column=parseInt(column,10);if(!table.config.cache||$.isEmptyObject(table.config.cache)){return}var indx,val,txt,t,$filters,$filter,c=table.config,wo=c.widgetOptions,node=c.$headers.filter('[data-column="'+column+'"]:last'),options='<option value="">'+(node.data("placeholder")||node.attr("data-placeholder")||wo.filter_placeholder.select||"")+"</option>",currentValue=c.$table.find("thead").find("select."+ts.css.filter+'[data-column="'+column+'"]').val();
if(typeof arry==="undefined"||arry===""){arry=ts.filter.getOptionSource(table,column,onlyAvail)}if($.isArray(arry)){for(indx=0;indx<arry.length;indx++){txt=arry[indx]=(""+arry[indx]).replace(/\"/g,"&quot;");val=txt;if(txt.indexOf(wo.filter_selectSourceSeparator)>=0){t=txt.split(wo.filter_selectSourceSeparator);val=t[0];txt=t[1]}options+=arry[indx]!==""?"<option "+(val===txt?"":'data-function-name="'+arry[indx]+'" ')+'value="'+val+'">'+txt+"</option>":""}arry=[]}$filters=(c.$filters?c.$filters:c.$table.children("thead")).find("."+ts.css.filter);if(wo.filter_$externalFilters){$filters=$filters&&$filters.length?$filters.add(wo.filter_$externalFilters):wo.filter_$externalFilters}$filter=$filters.filter('select[data-column="'+column+'"]');if($filter.length){$filter[updating?"html":"append"](options);if(!$.isArray(arry)){$filter.append(arry).val(currentValue)}$filter.val(currentValue)}},buildDefault:function(table,updating){var columnIndex,$header,noSelect,c=table.config,wo=c.widgetOptions,columns=c.columns;for(columnIndex=0;columnIndex<columns;columnIndex++){$header=c.$headers.filter('[data-column="'+columnIndex+'"]:last');noSelect=!($header.hasClass("filter-false")||$header.hasClass("parser-false"));if(($header.hasClass("filter-select")||ts.getColumnData(table,wo.filter_functions,columnIndex)===true)&&noSelect){ts.filter.buildSelect(table,columnIndex,"",updating,$header.hasClass(wo.filter_onlyAvail))}}}};ts.getFilters=function(table,getRaw,setFilters,skipFirst){var i,$filters,$column,filters=false,c=table?$(table)[0].config:"",wo=c?c.widgetOptions:"";if(getRaw!==true&&wo&&!wo.filter_columnFilters){return $(table).data("lastSearch")}if(c){if(c.$filters){$filters=c.$filters.find("."+ts.css.filter)}if(wo.filter_$externalFilters){$filters=$filters&&$filters.length?$filters.add(wo.filter_$externalFilters):wo.filter_$externalFilters}if($filters&&$filters.length){filters=setFilters||[];for(i=0;i<c.columns+1;i++){$column=$filters.filter('[data-column="'+(i===c.columns?"all":i)+'"]');if($column.length){$column=$column.sort(function(a,b){return $(b).attr("data-lastSearchTime")-$(a).attr("data-lastSearchTime")});if($.isArray(setFilters)){(skipFirst?$column.slice(1):$column).val(setFilters[i]).trigger("change.tsfilter")}else{filters[i]=$column.val()||"";$column.slice(1).val(filters[i])}if(i===c.columns&&$column.length){wo.filter_$anyMatch=$column}}}}}if(filters.length===0){filters=false}return filters};ts.setFilters=function(table,filter,apply,skipFirst){var c=table?$(table)[0].config:"",valid=ts.getFilters(table,true,filter,skipFirst);if(c&&apply){c.lastCombinedFilter=null;c.lastSearch=[];ts.filter.searching(c.$table[0],filter,skipFirst);c.$table.trigger("filterFomatterUpdate")}return!!valid};ts.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:true,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:true,stickyHeaders_includeCaption:true,stickyHeaders_zIndex:2},format:function(table,c,wo){if(c.$table.hasClass("hasStickyHeaders")||$.inArray("filter",c.widgets)>=0&&!c.$table.hasClass("hasFilters")){return}var $table=c.$table,$attach=$(wo.stickyHeaders_attachTo),$thead=$table.children("thead:first"),$win=$attach.length?$attach:$(window),$header=$thead.children("tr").not(".sticky-false").children(),innerHeader="."+ts.css.headerIn,$tfoot=$table.find("tfoot"),$stickyOffset=isNaN(wo.stickyHeaders_offset)?$(wo.stickyHeaders_offset):"",stickyOffset=$attach.length?0:$stickyOffset.length?$stickyOffset.height()||0:parseInt(wo.stickyHeaders_offset,10)||0,$stickyTable=wo.$sticky=$table.clone().addClass("containsStickyHeaders").css({position:$attach.length?"absolute":"fixed",margin:0,top:stickyOffset,left:0,visibility:"hidden",zIndex:wo.stickyHeaders_zIndex?wo.stickyHeaders_zIndex:2}),$stickyThead=$stickyTable.children("thead:first").addClass(ts.css.sticky+" "+wo.stickyHeaders),$stickyCells,laststate="",spacing=0,nonwkie=$table.css("border-collapse")!=="collapse"&&!/(webkit|msie)/i.test(navigator.userAgent),resizeHeader=function(){stickyOffset=$stickyOffset.length?$stickyOffset.height()||0:parseInt(wo.stickyHeaders_offset,10)||0;spacing=0;if(nonwkie){spacing=parseInt($header.eq(0).css("border-left-width"),10)*2}$stickyTable.css({left:$attach.length?(parseInt($attach.css("padding-left"),10)||0)+parseInt(c.$table.css("padding-left"),10)+parseInt(c.$table.css("margin-left"),10)+parseInt($table.css("border-left-width"),10):$thead.offset().left-$win.scrollLeft()-spacing,width:$table.width()});$stickyCells.filter(":visible").each(function(i){var $cell=$header.filter(":visible").eq(i),offset=nonwkie&&$(this).attr("data-column")===""+parseInt(c.columns/2,10)?1:0;$(this).css({width:$cell.width()-spacing}).find(innerHeader).width($cell.find(innerHeader).width()-offset)})};if($stickyTable.attr("id")){$stickyTable[0].id+=wo.stickyHeaders_cloneId}$stickyTable.find("thead:gt(0), tr.sticky-false").hide();$stickyTable.find("tbody, tfoot").remove();if(!wo.stickyHeaders_includeCaption){$stickyTable.find("caption").remove()}else{$stickyTable.find("caption").css("margin-left","-1px")}$stickyCells=$stickyThead.children().children();$stickyTable.css({height:0,width:0,padding:0,margin:0,border:0});$stickyCells.find("."+ts.css.resizer).remove();$table.addClass("hasStickyHeaders").bind("pagerComplete.tsSticky",function(){resizeHeader()});ts.bindEvents(table,$stickyThead.children().children(".tablesorter-header"));$table.after($stickyTable);$win.bind("scroll.tsSticky resize.tsSticky",function(event){if(!$table.is(":visible")){return}var prefix="tablesorter-sticky-",offset=$table.offset(),captionHeight=wo.stickyHeaders_includeCaption?0:$table.find("caption").outerHeight(true),scrollTop=($attach.length?$attach.offset().top:$win.scrollTop())+stickyOffset-captionHeight,tableHeight=$table.height()-($stickyTable.height()+($tfoot.height()||0)),isVisible=scrollTop>offset.top&&scrollTop<offset.top+tableHeight?"visible":"hidden",cssSettings={visibility:isVisible};if($attach.length){cssSettings.top=$attach.scrollTop()}else{cssSettings.left=$thead.offset().left-$win.scrollLeft()-spacing}$stickyTable.removeClass(prefix+"visible "+prefix+"hidden").addClass(prefix+isVisible).css(cssSettings);if(isVisible!==laststate||event.type==="resize"){resizeHeader();laststate=isVisible}});if(wo.stickyHeaders_addResizeEvent){ts.addHeaderResizeEvent(table)}if($table.hasClass("hasFilters")){$table.bind("filterEnd",function(){var $td=$(document.activeElement).closest("td"),column=$td.parent().children().index($td);if($stickyTable.hasClass(ts.css.stickyVis)&&wo.stickyHeaders_filteredToTop){window.scrollTo(0,$table.position().top);if(column>=0&&c.$filters){c.$filters.eq(column).find("a, select, input").filter(":visible").focus()}}});ts.filter.bindSearch($table,$stickyCells.find("."+ts.css.filter));if(wo.filter_hideFilters){ts.filter.hideFilters($stickyTable,c)}}$table.trigger("stickyHeadersInit")},remove:function(table,c,wo){c.$table.removeClass("hasStickyHeaders").unbind("pagerComplete.tsSticky").find("."+ts.css.sticky).remove();if(wo.$sticky&&wo.$sticky.length){wo.$sticky.remove()}if(!$(".hasStickyHeaders").length){$(window).unbind("scroll.tsSticky resize.tsSticky")}ts.addHeaderResizeEvent(table,false)}});ts.addWidget({id:"resizable",priority:40,options:{resizable:true,resizable_addLastColumn:false,resizable_widths:[],resizable_throttle:false},format:function(table,c,wo){if(c.$table.hasClass("hasResizable")){return}c.$table.addClass("hasResizable");ts.resizableReset(table,true);var $rows,$columns,$column,column,timer,storedSizes={},$table=c.$table,mouseXPosition=0,$target=null,$next=null,fullWidth=Math.abs($table.parent().width()-$table.width())<20,mouseMove=function(event){if(mouseXPosition===0||!$target){return}var leftEdge=event.pageX-mouseXPosition,targetWidth=$target.width();$target.width(targetWidth+leftEdge);if($target.width()!==targetWidth&&fullWidth){$next.width($next.width()-leftEdge)}mouseXPosition=event.pageX},stopResize=function(){if(ts.storage&&$target&&$next){storedSizes={};storedSizes[$target.index()]=$target.width();storedSizes[$next.index()]=$next.width();$target.width(storedSizes[$target.index()]);$next.width(storedSizes[$next.index()]);if(wo.resizable!==false){ts.storage(table,"tablesorter-resizable",c.$headers.map(function(){return $(this).width()}).get())}}mouseXPosition=0;$target=$next=null;$(window).trigger("resize")};storedSizes=ts.storage&&wo.resizable!==false?ts.storage(table,"tablesorter-resizable"):{};if(storedSizes){for(column in storedSizes){if(!isNaN(column)&&column<c.$headers.length){c.$headers.eq(column).width(storedSizes[column])}}}$rows=$table.children("thead:first").children("tr");$rows.children().each(function(){var canResize,$column=$(this);column=$column.attr("data-column");canResize=ts.getData($column,ts.getColumnData(table,c.headers,column),"resizable")==="false";$rows.children().filter('[data-column="'+column+'"]')[canResize?"addClass":"removeClass"]("resizable-false")});$rows.each(function(){$column=$(this).children().not(".resizable-false");if(!$(this).find("."+ts.css.wrapper).length){$column.wrapInner('<div class="'+ts.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}if(!wo.resizable_addLastColumn){$column=$column.slice(0,-1)}$columns=$columns?$columns.add($column):$column});$columns.each(function(){var $column=$(this),padding=parseInt($column.css("padding-right"),10)+10;$column.find("."+ts.css.wrapper).append('<div class="'+ts.css.resizer+'" style="cursor:w-resize;position:absolute;z-index:1;right:-'+padding+'px;top:0;height:100%;width:20px;"></div>')}).find("."+ts.css.resizer).bind("mousedown",function(event){$target=$(event.target).closest("th");var $header=c.$headers.filter('[data-column="'+$target.attr("data-column")+'"]');if($header.length>1){$target=$target.add($header)}$next=event.shiftKey?$target.parent().find("th").not(".resizable-false").filter(":last"):$target.nextAll(":not(.resizable-false)").eq(0);mouseXPosition=event.pageX});$(document).bind("mousemove.tsresize",function(event){if(mouseXPosition===0||!$target){return}if(wo.resizable_throttle){clearTimeout(timer);timer=setTimeout(function(){mouseMove(event)},isNaN(wo.resizable_throttle)?5:wo.resizable_throttle)}else{mouseMove(event)}}).bind("mouseup.tsresize",function(){stopResize()});$table.find("thead:first").bind("contextmenu.tsresize",function(){ts.resizableReset(table);var allowClick=$.isEmptyObject?$.isEmptyObject(storedSizes):true;storedSizes={};return allowClick})},remove:function(table,c){c.$table.removeClass("hasResizable").children("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find("."+ts.css.resizer).remove();ts.resizableReset(table)}});ts.resizableReset=function(table,nosave){$(table).each(function(){var $t,c=this.config,wo=c&&c.widgetOptions;if(table&&c){c.$headers.each(function(i){$t=$(this);if(wo.resizable_widths[i]){$t.css("width",wo.resizable_widths[i])}else if(!$t.hasClass("resizable-false")){$t.css("width","")}});if(ts.storage&&!nosave){ts.storage(this,"tablesorter-resizable",{})}}})};ts.addWidget({id:"saveSort",priority:20,options:{saveSort:true},init:function(table,thisWidget,c,wo){thisWidget.format(table,c,wo,true)},format:function(table,c,wo,init){var stored,time,$table=c.$table,saveSort=wo.saveSort!==false,sortList={sortList:c.sortList};if(c.debug){time=new Date}if($table.hasClass("hasSaveSort")){if(saveSort&&table.hasInitialized&&ts.storage){ts.storage(table,"tablesorter-savesort",sortList);if(c.debug){ts.benchmark("saveSort widget: Saving last sort: "+c.sortList,time)}}}else{$table.addClass("hasSaveSort");sortList="";if(ts.storage){stored=ts.storage(table,"tablesorter-savesort");sortList=stored&&stored.hasOwnProperty("sortList")&&$.isArray(stored.sortList)?stored.sortList:"";if(c.debug){ts.benchmark('saveSort: Last sort loaded: "'+sortList+'"',time)}$table.bind("saveSortReset",function(event){event.stopPropagation();ts.storage(table,"tablesorter-savesort","")})}if(init&&sortList&&sortList.length>0){c.sortList=sortList}else if(table.hasInitialized&&sortList&&sortList.length>0){$table.trigger("sorton",[sortList])}}},remove:function(table){if(ts.storage){ts.storage(table,"tablesorter-savesort","")}}})}(jQuery);!function($){var Validation=function(element){this.$el=$(element);this.$inputs=this.$el.find("input, textarea");this.$select=this.$el.find("select");this.$help=this.$el.find(".help-block");this.$form=this.$el.closest("form");this.type=this.$el.data("validation");this.options=$.extend({},$.fn.validate.defaults[this.type],this.$el.data());this.cache="";this.keyDelay=500;this.isValid=false;this.touched=false;this.init();this.listen()};Validation.prototype={init:function(){var self=this;if(!this.touched){this.$inputs.each(function(){var isBox=/checkbox|radio/.test(self.type),isChecked=this.checked,hasText=!isBox&&!!$(this).val(),isFilled=isBox&&isChecked||hasText;if(isFilled){self.touched=true;return self.validate()}})}this.disableSelects();this.checkRequired()},listen:function(){var isChosenSelect=this.type=="chosen",isSelect=this.type=="select",isBox=/checkbox|radio/.test(this.type),self=this;if(isChosenSelect){this.$select.chosen(this.options).change(function(){self.touched=true;self.validate()})}else if(isSelect){this.$select.on("change",function(){self.touched=true;self.validate()})}else if(isBox){this.$inputs.on("change",function(){self.touched=true;self.validate()})}else{this.$inputs.on("input",function(){self.checkCache()}).on("blur",function(){self.checkRequired()})}},validate:function(){var isSelect=/select|chosen/.test(this.type),isBox=/checkbox|radio/.test(this.type);this.isValid=isSelect?this.checkSelect():isBox?this.checkBox():this.checkText();this.$el.data("isValid",this.isValid);if(this.touched)this.toggleError(this.options.error);this.checkForm()},disableSelects:function(){var regex=new RegExp(this.options.pattern,this.options.modifier),$selects=this.$select.find("option").each(function(){$(this).prop("disabled",!regex.test(this.value))})},checkSelect:function(){var isValid=false,regex=new RegExp(this.options.pattern,this.options.modifier),$selects=this.$select.find("option").filter(":selected");if($selects.length>=this.options.minSelected){isValid=true;this.removeError()}return isValid},checkBox:function(){var isValid=false,$checks=this.$inputs.filter(":checked");if($checks.length>=this.options.minSelected){isValid=true;this.removeError()}return isValid},checkText:function(){var regex=new RegExp(this.options.pattern,this.options.modifier),value=this.$inputs.eq(0).val();return regex.test(value)},checkCache:function(){var value=this.$inputs.eq(0).val();if(this.cache!=value){this.cache=value;this.handleTextChange()}},checkRequired:function(){var $input=this.$inputs.eq(0),isRequired=$input.hasClass("required"),isFilled=!!$input.val();if(isRequired){if(isFilled){$input.addClass("filled")}else{$input.removeClass("filled")}}},checkForm:function(){var isFormValid=true,$submit=this.$form.find('[type="submit"]');this.$form.find("[data-validation]").each(function(){if(!$(this).data("isValid")){$submit.addClass("disabled").prop("disabled",true);return isFormValid=false}});if(isFormValid)$submit.removeClass("disabled").prop("disabled",false)},handleTextChange:function(){var text=this.$inputs.eq(0).val(),self=this;clearTimeout(this.timeout);this.touched=true;this.checkRequired();if(text){this.removeError();this.timeout=setTimeout(function(){self.validate()},this.keyDelay)}else{this.validate();this.removeError()}},toggleError:function(errorText){if(this.isValid){this.removeError()}else{this.addError(errorText)}},removeError:function(){this.$el.removeClass("error");this.$help.html("")},addError:function(errorText){this.$el.addClass("error");this.$help.html('<i class="ocon-small-error"></i> '+errorText)}};var old=$.fn.validate;$.fn.validate=function(){return this.each(function(){$(this).data("validation",new Validation(this))})};$.fn.validate.defaults={email:{pattern:"^[A-z0-9._%+-]+@[A-z0-9.-]+\\.[A-z]{2,4}$",modifier:"i",error:"Invalid email address"},phone:{pattern:"^(\\+?1 ?)?\\(?[\\d]{3}(\\) ?|-)?[\\d]{3}-?[\\d]{4}$",modifier:"",error:"Invalid phone number"},number:{pattern:"^\\d+(\\.\\d+)?$",modifier:"",error:"Entry must be a number"},textarea:{pattern:".+",modifier:"g",error:"Cannot leave blank"},chosen:{pattern:"",modifier:"",minSelected:1,error:"Invalid selection"},select:{pattern:"",modifier:"",minSelected:1,error:"Invalid selection"},checkbox:{minSelected:1,error:"Box must be checked"},radio:{minSelected:1,error:"Must select an option"},custom:{pattern:"",modifier:"im",error:"Invalid input"}};$.fn.validate.Constructor=Validation;$.fn.validate.noConflict=function(){$.fn.validate=old;return this};$(window).on("load",function(){$('[data-validation]:not([data-validation="form"])').each(function(){var $this=$(this),$form=$this.closest("form"),$submit=$form.find('[type="submit"]');$submit.prop("disabled",true);$this.validate()})})}(window.jQuery);!function($){var whcount=0,url="https://w.amazon.com/index.php/Special:PageSummary";WikiHelp=function(element,options){this.id=++whcount;this.$element=$(element);this.options=$.extend({},$.fn.wikihelp.defaults,options);this.loading=false;if(this.options.mode=="popover"){this.popover()}else{this.show()}},datacache={};$.fn.wikihelp=function(opt){return this.each(function(){var $this=$(this),data=$this.data("wikihelpobj"),options=typeof opt=="object"&&opt;if(!options.page&&$(this).data("page"))options.page=$(this).data("page");if(!options.title&&$(this).data("title"))options.title=$(this).data("title");if(!options.mode&&$(this).data("wiki-help"))options.mode=$(this).data("wiki-help");if(!data)$this.data("wikihelpobj",data=new WikiHelp(this,options));if(typeof opt=="string")data[opt]()})};WikiHelp.prototype={constructor:WikiHelp,popover:function(opts){var that=this,opts=this.options;this.visible=true;this.$element.popover({title:opts.popoverTitle,content:opts.loadingText,html:true}).popover("toggle").on("wikiload",function(jq,data){that.$element.data("bs.popover").options.content=data.content;if(that.visible){that.$element.popover("show")}}).on("hidden hidden.bs.popover",function(){if($.currentWikihelpPopup==that){$.currentWikihelpPopup=null}that.visible=false}).on("shown shown.bs.popover",function(){if($.currentWikihelpPopup&&$.currentWikihelpPopup!=that){$.currentWikihelpPopup.$element.popover("hide")}that.visible=true;$.currentWikihelpPopup=that});this.load()},read:function(){var page=this.options.page,title=this.options.title;if(undefined!==datacache[page]&&undefined!==datacache[page][title]){return datacache[page][title]}return undefined},write:function(data){var page=this.options.page,title=this.options.title;if(undefined===datacache[page]){datacache[page]={}}datacache[page][title]=data},load:function(page,title){var data=this.read(),opts=this.options,that=this;if(undefined===data){this.loading=true;$.ajax({url:url,dataType:"jsonp",data:{page:opts.page,summary:opts.title},success:function(d){that.write(d.data);that.$element.trigger("wikiload",[d.data]);that.loading=false}})}else{this.$element.trigger("wikiload",[data])}},show:function(){var opts=this.options,$target=$(this.$element.data("target"));if(opts.mode=="inline"){$target=this.$element}if($target.length){$target.html(opts.loadingText);this.$element.on("wikiload",function(jq,data){$target.html(data.content);$target.show()})}this.load()}};$.fn.wikihelp.defaults={page:"",title:"",mode:"popover",loadingText:'<div class="progress progress-striped active" style="height: 12px;"><div class="bar" style="width: 100%;"></div></div>',popoverTitle:"From the Wiki:"};$.fn.wikihelp.Constructor=WikiHelp;$(document).ready(function(){$(document).on("click","*[data-wiki-help]",function(e){e.preventDefault();$(this).wikihelp({})});$(document).on("click",function(e){var $target=$(e.target);if($.currentWikihelpPopup&&!$target.attr("data-wiki-help")&&$target.parents(".popover").length==0){$.currentWikihelpPopup.$element.popover("hide")}})})}(window.jQuery);!function(){var $,AbstractChosen,Chosen,SelectParser,_ref,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent){if(__hasProp.call(parent,key))child[key]=parent[key]}function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};SelectParser=function(){function SelectParser(){this.options_index=0;this.parsed=[]}SelectParser.prototype.add_node=function(child){if(child.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(child)}else{return this.add_option(child)}};SelectParser.prototype.add_group=function(group){var group_position,option,_i,_len,_ref,_results;group_position=this.parsed.length;this.parsed.push({array_index:group_position,group:true,label:this.escapeExpression(group.label),children:0,disabled:group.disabled});_ref=group.childNodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];_results.push(this.add_option(option,group_position,group.disabled))}return _results};SelectParser.prototype.add_option=function(option,group_position,group_disabled){if(option.nodeName.toUpperCase()==="OPTION"){if(option.text!==""){if(group_position!=null){this.parsed[group_position].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,selected:option.selected,disabled:group_disabled===true?group_disabled:option.disabled,group_array_index:group_position,classes:option.className,style:option.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};SelectParser.prototype.escapeExpression=function(text){var map,unsafe_chars;if(text==null||text===false){return""}if(!/[\&\<\>\"\'\`]/.test(text)){return text}map={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};unsafe_chars=/&(?!\w+;)|[\<\>\"\'\`]/g;return text.replace(unsafe_chars,function(chr){return map[chr]||"&amp;"})};return SelectParser}();SelectParser.select_to_array=function(select){var child,parser,_i,_len,_ref;parser=new SelectParser;_ref=select.childNodes;for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];parser.add_node(child)}return parser.parsed};AbstractChosen=function(){function AbstractChosen(form_field,options){this.form_field=form_field;this.options=options!=null?options:{};if(!AbstractChosen.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers()}AbstractChosen.prototype.set_default_values=function(){var _this=this;this.click_test_action=function(evt){return _this.test_active_click(evt)};this.activate_action=function(evt){return _this.activate_field(evt)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;return this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true};AbstractChosen.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text};AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=true};AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=false};AbstractChosen.prototype.input_focus=function(evt){var _this=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return _this.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}};AbstractChosen.prototype.input_blur=function(evt){var _this=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(){return _this.blur_test()},100)}};AbstractChosen.prototype.results_option_build=function(options){var content,data,_i,_len,_ref;content="";_ref=this.results_data;for(_i=0,_len=_ref.length;_i<_len;_i++){data=_ref[_i];if(data.group){content+=this.result_add_group(data)}else{content+=this.result_add_option(data)}if(options!=null?options.first:void 0){if(data.selected&&this.is_multiple){this.choice_build(data)}else if(data.selected&&!this.is_multiple){this.single_set_selected_text(data.text)}}}return content};AbstractChosen.prototype.result_add_option=function(option){var classes,style;if(!option.search_match){return""}if(!this.include_option_in_results(option)){return""}classes=[];if(!option.disabled&&!(option.selected&&this.is_multiple)){classes.push("active-result")}if(option.disabled&&!(option.selected&&this.is_multiple)){classes.push("disabled-result")}if(option.selected){classes.push("result-selected")}if(option.group_array_index!=null){classes.push("group-option")}if(option.classes!==""){classes.push(option.classes)}style=option.style.cssText!==""?' style="'+option.style+'"':"";return'<li class="'+classes.join(" ")+'"'+style+' data-option-array-index="'+option.array_index+'">'+option.search_text+"</li>"};AbstractChosen.prototype.result_add_group=function(group){if(!(group.search_match||group.group_match)){return""}if(!(group.active_options>0)){return""}return'<li class="group-result">'+group.search_text+"</li>"};AbstractChosen.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;this.results_build();if(this.results_showing){return this.winnow_results()}};AbstractChosen.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};AbstractChosen.prototype.results_search=function(evt){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};AbstractChosen.prototype.winnow_results=function(){var escapedSearchText,option,regex,regexAnchor,results,results_group,searchText,startpos,text,zregex,_i,_len,_ref;this.no_results_clear();results=0;searchText=this.get_search_text();escapedSearchText=searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");regexAnchor=this.search_contains?"":"^";regex=new RegExp(regexAnchor+escapedSearchText,"i");zregex=new RegExp(escapedSearchText,"i");_ref=this.results_data;for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];option.search_match=false;results_group=null;if(this.include_option_in_results(option)){if(option.group){option.group_match=false;option.active_options=0}if(option.group_array_index!=null&&this.results_data[option.group_array_index]){results_group=this.results_data[option.group_array_index];if(results_group.active_options===0&&results_group.search_match){results+=1}results_group.active_options+=1}if(!(option.group&&!this.group_search)){option.search_text=option.group?option.label:option.html;option.search_match=this.search_string_match(option.search_text,regex);if(option.search_match&&!option.group){results+=1}if(option.search_match){if(searchText.length){startpos=option.search_text.search(zregex);text=option.search_text.substr(0,startpos+searchText.length)+"</em>"+option.search_text.substr(startpos+searchText.length);option.search_text=text.substr(0,startpos)+"<em>"+text.substr(startpos)}if(results_group!=null){results_group.group_match=true}}else if(option.group_array_index!=null&&this.results_data[option.group_array_index].search_match){option.search_match=true}}}}this.result_clear_highlight();if(results<1&&searchText.length){this.update_results_content("");return this.no_results(searchText)}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()}};AbstractChosen.prototype.search_string_match=function(search_string,regex){var part,parts,_i,_len;if(regex.test(search_string)){return true}else if(this.enable_split_word_search&&(search_string.indexOf(" ")>=0||search_string.indexOf("[")===0)){parts=search_string.replace(/\[|\]/g,"").split(" ");if(parts.length){for(_i=0,_len=parts.length;_i<_len;_i++){part=parts[_i];if(regex.test(part)){return true}}}}};AbstractChosen.prototype.choices_count=function(){var option,_i,_len,_ref;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;_ref=this.form_field.options;for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];if(option.selected){this.selected_option_count+=1}}return this.selected_option_count};AbstractChosen.prototype.choices_click=function(evt){evt.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show()}};AbstractChosen.prototype.keyup_checker=function(evt){var stroke,_ref;stroke=(_ref=evt.which)!=null?_ref:evt.keyCode;this.search_field_scale();switch(stroke){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:evt.preventDefault();if(this.results_showing){return this.result_select(evt)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};AbstractChosen.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};AbstractChosen.prototype.include_option_in_results=function(option){if(this.is_multiple&&!this.display_selected_options&&option.selected){return false}if(!this.display_disabled_options&&option.disabled){return false}if(option.empty){return false}return true};AbstractChosen.browser_is_supported=function(){if(window.navigator.appName==="Microsoft Internet Explorer"){return document.documentMode>=8}if(/iP(od|hone)/i.test(window.navigator.userAgent)){return false}if(/Android/i.test(window.navigator.userAgent)){if(/Mobile/i.test(window.navigator.userAgent)){return false}}return true};AbstractChosen.default_multiple_text="Select Some Options";AbstractChosen.default_single_text="Select an Option";AbstractChosen.default_no_result_text="No results match";return AbstractChosen}();$=jQuery;$.fn.extend({chosen:function(options){if(!AbstractChosen.browser_is_supported()){return this}return this.each(function(input_field){var $this,chosen;$this=$(this);chosen=$this.data("chosen");if(options==="destroy"&&chosen){chosen.destroy()}else if(!chosen){$this.data("chosen",new Chosen(this,options))}})}});Chosen=function(_super){__extends(Chosen,_super);function Chosen(){_ref=Chosen.__super__.constructor.apply(this,arguments);return _ref}Chosen.prototype.setup=function(){this.form_field_jq=$(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};Chosen.prototype.set_up_html=function(){var container_classes,container_props;container_classes=["chosen-container"];container_classes.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){container_classes.push(this.form_field.className)}if(this.is_rtl){container_classes.push("chosen-rtl")}container_props={"class":container_classes.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title};if(this.form_field.id.length){container_props.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"}this.container=$("<div />",container_props);if(this.is_multiple){this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>')}else{this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>')}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chosen-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chosen-search").first();this.selected_item=this.container.find(".chosen-single").first()}this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",{chosen:this})};Chosen.prototype.register_observers=function(){var _this=this;this.container.bind("mousedown.chosen",function(evt){_this.container_mousedown(evt)});this.container.bind("mouseup.chosen",function(evt){_this.container_mouseup(evt)});this.container.bind("mouseenter.chosen",function(evt){_this.mouse_enter(evt)});this.container.bind("mouseleave.chosen",function(evt){_this.mouse_leave(evt)});this.search_results.bind("mouseup.chosen",function(evt){_this.search_results_mouseup(evt)});this.search_results.bind("mouseover.chosen",function(evt){_this.search_results_mouseover(evt)});this.search_results.bind("mouseout.chosen",function(evt){_this.search_results_mouseout(evt)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(evt){_this.search_results_mousewheel(evt)});this.form_field_jq.bind("chosen:updated.chosen",function(evt){_this.results_update_field(evt)});this.form_field_jq.bind("chosen:activate.chosen",function(evt){_this.activate_field(evt)});this.form_field_jq.bind("chosen:open.chosen",function(evt){_this.container_mousedown(evt)});this.search_field.bind("blur.chosen",function(evt){_this.input_blur(evt)});this.search_field.bind("keyup.chosen",function(evt){_this.keyup_checker(evt)});this.search_field.bind("keydown.chosen",function(evt){_this.keydown_checker(evt)});this.search_field.bind("focus.chosen",function(evt){_this.input_focus(evt)});if(this.is_multiple){return this.search_choices.bind("click.chosen",function(evt){_this.choices_click(evt)})}else{return this.container.bind("click.chosen",function(evt){evt.preventDefault()})}};Chosen.prototype.destroy=function(){$(document).unbind("click.chosen",this.click_test_action);if(this.search_field[0].tabIndex){this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex}this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};Chosen.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chosen-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus.chosen",this.activate_action)}return this.close_field()}else{this.container.removeClass("chosen-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus.chosen",this.activate_action)}}};Chosen.prototype.container_mousedown=function(evt){if(!this.is_disabled){if(evt&&evt.type==="mousedown"&&!this.results_showing){evt.preventDefault()}if(!(evt!=null&&$(evt.target).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}$(document).bind("click.chosen",this.click_test_action);this.results_show()}else if(!this.is_multiple&&evt&&($(evt.target)[0]===this.selected_item[0]||$(evt.target).parents("a.chosen-single").length)){evt.preventDefault();this.results_toggle()}return this.activate_field()}}};Chosen.prototype.container_mouseup=function(evt){if(evt.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(evt)}};Chosen.prototype.search_results_mousewheel=function(evt){var delta,_ref1,_ref2;delta=-((_ref1=evt.originalEvent)!=null?_ref1.wheelDelta:void 0)||((_ref2=evt.originialEvent)!=null?_ref2.detail:void 0);if(delta!=null){evt.preventDefault();if(evt.type==="DOMMouseScroll"){delta=delta*40}return this.search_results.scrollTop(delta+this.search_results.scrollTop())}};Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chosen-container-active")){return this.close_field()}};Chosen.prototype.close_field=function(){$(document).unbind("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};Chosen.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};Chosen.prototype.test_active_click=function(evt){if(this.container.is($(evt.target).closest(".chosen-container"))){return this.active_field=true}else{return this.close_field()}};Chosen.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=SelectParser.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove()}else if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch")}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false};Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){this.result_clear_highlight();this.result_highlight=el;this.result_highlight.addClass("highlighted");maxHeight=parseInt(this.search_results.css("maxHeight"),10);visible_top=this.search_results.scrollTop();visible_bottom=maxHeight+visible_top;high_top=this.result_highlight.position().top+this.search_results.scrollTop();high_bottom=high_top+this.result_highlight.outerHeight();if(high_bottom>=visible_bottom){return this.search_results.scrollTop(high_bottom-maxHeight>0?high_bottom-maxHeight:0)}else if(high_top<visible_top){return this.search_results.scrollTop(high_top)}}};Chosen.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};Chosen.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}this.container.addClass("chosen-with-drop");this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};Chosen.prototype.update_results_content=function(content){return this.search_results.html(content)};Chosen.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chosen-with-drop");this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})}return this.results_showing=false};Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field.tabIndex){ti=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=ti}};Chosen.prototype.set_label_behavior=function(){var _this=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=$("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.bind("click.chosen",function(evt){if(_this.is_multiple){return _this.container_mousedown(evt)}else{return _this.activate_field()}})}};Chosen.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};Chosen.prototype.search_results_mouseup=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target.length){this.result_highlight=target;this.result_select(evt);return this.search_field.focus()}};Chosen.prototype.search_results_mouseover=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target){return this.result_do_highlight(target)}};Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result"||$(evt.target).parents(".active-result").first())){return this.result_clear_highlight()}};Chosen.prototype.choice_build=function(item){var choice,close_link,_this=this;choice=$("<li />",{"class":"search-choice"}).html("<span>"+item.html+"</span>");if(item.disabled){choice.addClass("search-choice-disabled")}else{close_link=$("<a />",{"class":"search-choice-close","data-option-array-index":item.array_index});close_link.bind("click.chosen",function(evt){return _this.choice_destroy_link_click(evt)});choice.append(close_link)}return this.search_container.before(choice)};Chosen.prototype.choice_destroy_link_click=function(evt){evt.preventDefault();evt.stopPropagation();if(!this.is_disabled){return this.choice_destroy($(evt.target))}};Chosen.prototype.choice_destroy=function(link){if(this.result_deselect(link[0].getAttribute("data-option-array-index"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}link.parents("li").first().remove();return this.search_field_scale()}};Chosen.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_option_count=null;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};Chosen.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};Chosen.prototype.result_select=function(evt){var high,item,selected_index;if(this.result_highlight){high=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}if(this.is_multiple){high.removeClass("active-result")}else{if(this.result_single_selected){this.result_single_selected.removeClass("result-selected");selected_index=this.result_single_selected[0].getAttribute("data-option-array-index");this.results_data[selected_index].selected=false}this.result_single_selected=high}high.addClass("result-selected");item=this.results_data[high[0].getAttribute("data-option-array-index")];item.selected=true;this.form_field.options[item.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(item)}else{this.single_set_selected_text(item.text)}if(!((evt.metaKey||evt.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[item.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};Chosen.prototype.single_set_selected_text=function(text){if(text==null){text=this.default_text}if(text===this.default_text){this.selected_item.addClass("chosen-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default")}return this.selected_item.find("span").text(text)};Chosen.prototype.result_deselect=function(pos){var result_data;result_data=this.results_data[pos];if(!this.form_field.options[result_data.options_index].disabled){result_data.selected=false;this.form_field.options[result_data.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();if(this.results_showing){this.winnow_results()}this.form_field_jq.trigger("change",{deselected:this.form_field.options[result_data.options_index].value});this.search_field_scale();return true}else{return false}};Chosen.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}return this.selected_item.addClass("chosen-single-with-deselect")};Chosen.prototype.get_search_text=function(){if(this.search_field.val()===this.default_text){return""}else{return $("<div/>").text($.trim(this.search_field.val())).html()}};Chosen.prototype.winnow_results_set_highlight=function(){var do_high,selected_results;selected_results=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];do_high=selected_results.length?selected_results.first():this.search_results.find(".active-result").first();if(do_high!=null){return this.result_do_highlight(do_high)}};Chosen.prototype.no_results=function(terms){var no_results_html;no_results_html=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');no_results_html.find("span").first().html(terms);return this.search_results.append(no_results_html)};Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};Chosen.prototype.keydown_arrow=function(){var next_sib;if(this.results_showing&&this.result_highlight){next_sib=this.result_highlight.nextAll("li.active-result").first();if(next_sib){return this.result_do_highlight(next_sib)}}else{return this.results_show()}};Chosen.prototype.keyup_arrow=function(){var prev_sibs;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else if(this.result_highlight){prev_sibs=this.result_highlight.prevAll("li.active-result");if(prev_sibs.length){return this.result_do_highlight(prev_sibs.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}};Chosen.prototype.keydown_backstroke=function(){var next_available_destroy;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{next_available_destroy=this.search_container.siblings("li.search-choice").last();if(next_available_destroy.length&&!next_available_destroy.hasClass("search-choice-disabled")){this.pending_backstroke=next_available_destroy;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};Chosen.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};Chosen.prototype.keydown_checker=function(evt){var stroke,_ref1;stroke=(_ref1=evt.which)!=null?_ref1:evt.keyCode;this.search_field_scale();if(stroke!==8&&this.pending_backstroke){this.clear_backstroke()}switch(stroke){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(evt)}this.mouse_on_container=false;break;case 13:evt.preventDefault();break;case 38:evt.preventDefault();this.keyup_arrow();break;case 40:evt.preventDefault();this.keydown_arrow();break}};Chosen.prototype.search_field_scale=function(){var div,f_width,h,style,style_block,styles,w,_i,_len;if(this.is_multiple){h=0;w=0;style_block="position:absolute; left: -1000px; top: -1000px; display:none;";styles=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(_i=0,_len=styles.length;_i<_len;_i++){style=styles[_i];style_block+=style+":"+this.search_field.css(style)+";"}div=$("<div />",{style:style_block});div.text(this.search_field.val());$("body").append(div);w=div.width()+25;div.remove();f_width=this.container.outerWidth();if(w>f_width-10){w=f_width-10}return this.search_field.css({width:w+"px"})}};return Chosen}(AbstractChosen)}.call(this);!function($){var $toaster;var defaultIcons={info:"fa-comment",success:"fa-check-circle",danger:"fa-exclamation-triangle",error:"fa-exclamation-triangle"};var getNextAvailableSlot=function(){var slot=-1;$(".oneg-toast",$toaster).each(function(){var $this=$(this);if($this.data("toast-obj").isDismissed()){slot=$this.index();return false}});return slot};var cleanUp=function(){$($(".oneg-toast",$toaster).get().reverse()).each(function(){var toast=$(this).data("toast-obj");if(toast.isDismissed()){toast.destroy()}else if(toast.isHovered()){return false}})};var Toast=function(message,options){var toast=this;var isDismissed=false;var hovered=false;options=$.extend({duration:5e3,sticky:false,type:"info"},options);if(options.icon===undefined&&defaultIcons[options.type]!==undefined){options.icon=defaultIcons[options.type]}this.$element=$('<li class="oneg-toast">'+'<div class="content">'+'<div class="message-wrapper">'+'<div class="message"></div>'+"</div>"+"</div>"+"</li>").addClass(options.type).mouseenter(function(){hovered=true}).mouseleave(function(){hovered=false});$(".message",this.$element).html(message);var $closeButton=$('<i class="oneg-toast-close fa fa-times"</i>').click(function(){toast.dismiss(true)}).insertAfter($(".message-wrapper",this.$element));if(options.icon){$('<i class="oneg-toast-icon fa '+options.icon+'"></i>').prependTo($(".content",this.$element))}else{$(".content",this.$element).addClass("without-icon")}this.$element.data("toast-obj",this);if(!options.sticky&&options.duration>0){setTimeout(function(){toast.dismiss()},options.duration)}this.dismiss=function(force){var doDismiss=function(){toast.$element.animate({opacity:0},300,function(){toast.$element.css("visibility","hidden");isDismissed=true;cleanUp()})};if(hovered&&!force){toast.$element.mouseleave(function(){doDismiss()})}else{doDismiss()}};this.isDismissed=function(){return isDismissed};this.isHovered=function(){return hovered};this.destroy=function(){toast.$element.animate({height:0,padding:0},100,function(){toast.$element.remove()})};this.setMessage=function(message){$(".message",this.$element).html(message);return this};return this};$.toast=function(message,options){if(!$toaster){$toaster=$('<ul class="oneg-toaster"></ul>').appendTo("body")}var toast=new Toast(message,options);var slotIndex=getNextAvailableSlot();if(slotIndex===-1){toast.$element.hide().appendTo($toaster).fadeIn("fast")}else{$(".oneg-toast:nth-child("+(slotIndex+1)+")").replaceWith(toast.$element)}return toast}}(window.jQuery);!function($){function prefAjax(prefType,options){var root="https://oneg-preferences.amazon.com",path="/api/preference/",method="POST",data={},success=options.success||function(data){},error=options.error||function(xhr,text,err){console.log(xhr,text,err)},url;if(prefType=="register"){path="/api/register/"}else if(prefType=="set"){if(options.groupId)data.group_id=options.groupId;if(options.prefId)data.pref_id=options.prefId;if(options.value)data.value=options.value}else if(prefType=="get"){method="GET";if(options.userId){path="/api/no-auth/preference/";data.user_id=options.userId}if(options.groupId)data.group_id=options.groupId;if(options.prefId)data.pref_id=options.prefId}url=root+path+options.appId,$.ajax({url:url,type:method,data:data,dataType:"json",crossDomain:true,xhrFields:{withCredentials:true},success:success,error:error})}$.registerApplication=function(options){if(typeof options=="string"){options={appId:options}}prefAjax("register",options)};$.setPreference=function(options){prefAjax("set",options)};$.getPreference=function(options){if(typeof options=="string"){options={appId:options}}prefAjax("get",options)}}(window.jQuery);!function($){var Favorites=function(element,options){this.$el=$(element);this.$prefs=this.$el.find("[data-fav-name]");this.$app=this.$el.closest("[data-fav-app]");this.appId=this.$app.data("favApp");this.group=this.$el.data("favGroup");this.groupId="favorites_"+this.group;this.$favList=$('[data-fav-favlist="'+this.group+'"]');this.init()};Favorites.prototype={init:function(){this.loadData()},register:function(){var self=this;$.registerApplication({appId:self.appId,success:function(){self.loadData()}})},loadData:function(){var self=this;$.getPreference({appId:self.appId,groupId:self.groupId,success:function(data){self.setFavs(data.results);self.listen()},error:function(xhr,text,err){var regex=new RegExp("bad request","i"),appNotRegistered=regex.test(err);if(appNotRegistered){console.error("Preferences could not be retrieved. Make sure your app ID has been registered.")}}})},listen:function(){var self=this;this.$app.on("click","[data-fav-name]",function(){self.toggle($(this))})},removeNoFavsMessage:function(){var $firstLi=this.$favList.find("li:first");if($firstLi.find(".no-favs").length){$firstLi.remove()}},setFavs:function(results){this.$favList.html('<ul class="nav"><li><span class="no-favs">No favorites yet. Click the star icon to add to favorites.</span></li></ul>');for(var pref in results){var $prefs=$('[data-fav-name="'+pref+'"]');if(results[pref]=="true"){this.removeNoFavsMessage();this.addItem(pref)}else{$prefs.removeClass("favorite")}}},addItem:function(pref){this.$favList.each(function(){var $this=$(this),$item=$('<li><i class="fa fa-star" data-fav-name="'+pref+'"></i></li>'),delimeter=$this.data("favNameDelimiter"),isLink=$this.data("favType")==="link",url,text,content;if(isLink){if(delimeter){url=pref.split(delimeter)[1];text=pref.split(delimeter)[0]}else{url=text=pref}content='<a class="fav-link" href="'+url+'">'+text+"</a>"}else{content=delimeter?pref.split(delimeter).join("</span><span>"):pref;content="<span>"+content+"</span>"}$item.append(content).appendTo($this.find("ul"))});this.setTouchedStates(pref)},setTouchedStates:function(pref){$('[data-fav-name="'+pref+'"]').addClass("favorite").data("touched",true)},toggle:function($el){var prefId=$el.data("favName"),touched=$el.data("touched"),$prefs=$('[data-fav-name="'+prefId+'"]'),prefVal=$prefs.eq(0).hasClass("favorite"),self=this;$prefs.toggleClass("favorite");$.setPreference({appId:self.appId,groupId:self.groupId,prefId:prefId,value:!prefVal+"",success:function(){if(!prefVal&&!touched){self.removeNoFavsMessage();self.addItem(prefId)}},error:function(){$prefs.toggleClass("favorite")}})}};$(function(){$("[data-fav-group]").each(function(){new Favorites($(this))})})}(window.jQuery);!function($){$(document).ready(function(){$(".dropdown-menu").each(function(){var $this=$(this),docWidth=$(document).width(),w=$this.width(),dx=$this.parent().offset().left,right=docWidth-(dx+w);if(right<0){$this.addClass("pull-right")}})})}(window.jQuery);