---
layout: post
title: 'Image Filtering Basics: Convolution and Correlation.'
date: '2013-10-11T06:42:00.001-07:00'
author: Sumit Agrawal
tags: 
modified_time: '2013-10-11T06:42:46.941-07:00'
thumbnail: http://3.bp.blogspot.com/-ffX6OQYx-IU/Ulf54ijbYdI/AAAAAAAAACg/XO34LqvU9LM/s72-c/convolution.png
blogger_id: tag:blogger.com,1999:blog-680750426739773469.post-5716034087199408481
blogger_orig_url: http://codewithgeeks.blogspot.com/2013/10/image-filtering-basics-convolution-and.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Let's consider two images I and F. I is input image and F is mask.<div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-ffX6OQYx-IU/Ulf54ijbYdI/AAAAAAAAACg/XO34LqvU9LM/s1600/convolution.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="199" src="http://3.bp.blogspot.com/-ffX6OQYx-IU/Ulf54ijbYdI/AAAAAAAAACg/XO34LqvU9LM/s320/convolution.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: center;"><span style="font-size: x-small;">Correlation</span></div><div><br /></div><div>For convolution we keep center of mask matrix over every pixel of input image update that value with weighted sum of every other pixel covered by the mask.</div><div><br /></div><div>As can be seen from the above image, in the 10 is the center of &nbsp;area covered by mask in 'I'.</div><div>So in output image that value is updated by the the expression given in the image. This operation is repeated for every pixel of the input image and output image is constructed.&nbsp;</div><div><br /></div><div>As you might have guessed by now that given mask computes average values in the neighborhood and updates the center pixel with this new value. As a result we get a smoother image in output. Saying that output will be a smoother image is quite intuitive, clearly every pixel in the output image (o) will have a component from the neighboring pixels. This components decrease the difference in intensities values of neighboring pixels. Hence change in intensity while moving across new image is lesser or in other words smoother. &nbsp;&nbsp;</div><div><br /></div><div>If we change the mask we get different results. For example if change the value of the center pixel of the mask by 2. The the image obtained by taking convolution will have more weight to the current pixel being scanned.&nbsp;</div><div><br /></div><div>Lets see few example of this operation:</div><div><br /></div><div>1) Here F has only center pixel as 1. Therefore contribution from neighbors is 0 and there is no change in image.&nbsp;</div><div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-3p520o0Ao88/Ulf-qfhWkrI/AAAAAAAAACs/_xsOIrl730A/s1600/convolve1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="133" src="http://3.bp.blogspot.com/-3p520o0Ao88/Ulf-qfhWkrI/AAAAAAAAACs/_xsOIrl730A/s320/convolve1.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div></div><div>2) Shift operator<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-2nJMt7SdCoo/Ulf_cgLAuDI/AAAAAAAAAC0/s7JIXihtMZU/s1600/convolve2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="139" src="http://3.bp.blogspot.com/-2nJMt7SdCoo/Ulf_cgLAuDI/AAAAAAAAAC0/s7JIXihtMZU/s320/convolve2.png" width="320" /></a></div></div><div>&nbsp;3) Blur operator which we discussed in the main part<div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-Sv3VGqWj4Xg/UlgAByvOjFI/AAAAAAAAADA/tp4auqAQ3RU/s1600/convolve3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="147" src="http://4.bp.blogspot.com/-Sv3VGqWj4Xg/UlgAByvOjFI/AAAAAAAAADA/tp4auqAQ3RU/s320/convolve3.png" width="320" /></a></div></div><div>In the next post we are going to discuss how to perform convolution with opencv.</div><div><br /></div></div>